import{g as N,r as l,j as e}from"./index-ZpOvIOBK.js";import{H as f,F as v}from"./Footer-Cn1l-7sc.js";import{B as r}from"./Button-BDm5bFDW.js";import{d as w}from"./disputesService-hVqPBvgy.js";function A(){N("ADMIN");const[i,d]=l.useState("reports"),[c,g]=l.useState([]),[m,u]=l.useState(!0),[n,p]=l.useState(null),h=[{id:1,type:"counterfeit",reporter:"Adebayo Okonkwo",reported:"Fake Electronics Store",product:"iPhone 15 Pro",date:"2024-01-15",status:"investigating",severity:"high"},{id:2,type:"fraud",reporter:"Amara Kimani",reported:"Scam Seller",product:"Designer Handbag",date:"2024-01-14",status:"resolved",severity:"critical"},{id:3,type:"misrepresentation",reporter:"Mohamed Hassan",reported:"Misleading Store",product:"Laptop Computer",date:"2024-01-13",status:"pending",severity:"medium"}],j=s=>{switch(s){case"OPEN":return"open";case"SELLER_RESPONDED":return"pending";case"RESOLVED_BUYER_COMPENSATED":case"RESOLVED_REDELIVERED":case"REJECTED":return"resolved";default:return"pending"}},y=[{id:1,seller:"Premium Electronics",type:"identity",status:"verified",date:"2024-01-10",documents:["ID Card","Business License"]},{id:2,seller:"Artisan Crafts",type:"business",status:"pending",date:"2024-01-15",documents:["Business License","Tax Certificate"]},{id:3,seller:"Fashion House",type:"address",status:"rejected",date:"2024-01-12",documents:["Utility Bill"]}],x=s=>{switch(s){case"resolved":case"verified":return"bg-green-100 text-green-700";case"investigating":case"open":case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},b=s=>{switch(s){case"critical":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return l.useEffect(()=>{async function s(){u(!0),p(null);try{const o=(await w.listAll()).map(t=>({id:t.id,orderId:t.orderItem?.orderId||"Unknown",buyer:t.buyer?.name||t.buyer?.email||"Buyer",seller:t.orderItem?.product?.seller?.name||"Seller",amount:t.orderItem?.grossAmount?`$${Number(t.orderItem.grossAmount).toFixed(2)}`:"â€”",reason:t.reasonCode?.replace(/_/g," ").toLowerCase()||"Issue reported",date:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),status:j(t.status)}));g(o)}catch(a){console.error("Failed to load disputes:",a),p("Could not load disputes.")}finally{u(!1)}}s()},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Trust & Safety"}),e.jsx("p",{className:"text-gray-600",children:"Monitor reports, disputes, and seller verifications"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"100ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-alert-line text-2xl text-red-600"})}),e.jsx("span",{className:"text-xs font-medium text-red-600",children:"+5"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Active Reports"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"23"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"200ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-scales-line text-2xl text-orange-600"})}),e.jsx("span",{className:"text-xs font-medium text-orange-600",children:"+3"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Open Disputes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.filter(s=>s.status==="open").length})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"300ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shield-check-line text-2xl text-blue-600"})}),e.jsx("span",{className:"text-xs font-medium text-blue-600",children:"+8"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pending Verifications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"34"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"400ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"})}),e.jsx("span",{className:"text-xs font-medium text-green-600",children:"+15"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Resolved This Week"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"89"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6 animate-scale-in",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>d("reports"),className:`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${i==="reports"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Reports",e.jsx("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full",children:h.length})]}),e.jsx("button",{onClick:()=>d("disputes"),className:`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${i==="disputes"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Disputes"}),e.jsx("button",{onClick:()=>d("verification"),className:`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${i==="verification"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Verification"})]})}),e.jsxs("div",{className:"p-6",children:[i==="reports"&&e.jsx("div",{className:"space-y-4",children:h.map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover-lift animate-fade-in-up",style:{animationDelay:`${a*100}ms`},children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.product}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b(s.severity)}`,children:s.severity}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:s.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Reporter"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.reporter})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Reported Seller"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.reported})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.date})]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(r,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Review"}),e.jsx(r,{size:"sm",className:"whitespace-nowrap",children:"Take Action"})]})]})},s.id))}),i==="disputes"&&e.jsxs("div",{className:"space-y-4",children:[m&&e.jsx("div",{className:"text-sm text-gray-600",children:"Loading disputes..."}),n&&e.jsx("div",{className:"text-sm text-red-600",children:n}),!m&&!n&&c.map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover-lift animate-fade-in-up",style:{animationDelay:`${a*100}ms`},children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.orderId}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Buyer"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.buyer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Seller"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.seller})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Amount"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.amount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Reason"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.reason})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.date})]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(r,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:"View Details"}),e.jsx(r,{size:"sm",className:"whitespace-nowrap",children:"Mediate"})]})]})},s.id)),!m&&!n&&c.length===0&&e.jsx("div",{className:"text-sm text-gray-600",children:"No disputes found."})]}),i==="verification"&&e.jsx("div",{className:"space-y-4",children:y.map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover-lift animate-fade-in-up",style:{animationDelay:`${a*100}ms`},children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.seller}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:s.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Submitted"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Documents"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[s.documents.length," files"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.documents.map((o,t)=>e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-full",children:[e.jsx("i",{className:"ri-file-line mr-1"}),o]},t))})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(r,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Review Docs"}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{size:"sm",className:"bg-green-600 hover:bg-green-700 whitespace-nowrap",children:"Approve"}),e.jsx(r,{variant:"outline",size:"sm",className:"border-red-600 text-red-600 hover:bg-red-50 whitespace-nowrap",children:"Reject"})]})]})]})},s.id))})]})]})]}),e.jsx(v,{})]})}export{A as default};
//# sourceMappingURL=page-BghQy_Qe.js.map
