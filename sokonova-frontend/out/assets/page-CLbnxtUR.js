import{h as T,d as F,i as A,r as m,u as E,j as e,L as q}from"./index-BuEVh5sI.js";import{H as L,F as B}from"./Footer-BUHV-7DN.js";import{B as g}from"./Button-CIhQbQx6.js";import{I as i}from"./Input-CedIw5Ms.js";import{p as k}from"./productsService-CjVt01BF.js";function $(){const C=T(),{user:j}=F();A("SELLER");const[l,y]=m.useState(1),[n,v]=m.useState([]),[u,p]=m.useState(""),[x,f]=m.useState(!1),{showToast:b}=E(),[a,h]=m.useState({productName:"",category:"",subcategory:"",description:"",shortDescription:"",price:"",comparePrice:"",costPerItem:"",sku:"",barcode:"",trackQuantity:!0,quantity:"",lowStockThreshold:"",weight:"",dimensions:{length:"",width:"",height:""},shippingFrom:"",processingTime:"",seoTitle:"",seoDescription:"",tags:"",status:"draft"}),S=["Fashion & Clothing","Arts & Crafts","Jewelry & Accessories","Home & Living","Beauty & Personal Care","Electronics","Books & Media","Food & Beverages","Sports & Outdoors","Toys & Games"],P={"Fashion & Clothing":["Dresses","Shirts & Tops","Traditional Wear","Shoes","Bags"],"Arts & Crafts":["Paintings","Sculptures","Textiles","Pottery","Wood Crafts"],"Jewelry & Accessories":["Necklaces","Earrings","Bracelets","Rings","Watches"],"Home & Living":["Furniture","Decor","Kitchen & Dining","Bedding","Storage"],"Beauty & Personal Care":["Skincare","Makeup","Hair Care","Fragrances","Natural Products"]},t=(s,r)=>{if(s.includes(".")){const[c,d]=s.split(".");h(o=>({...o,[c]:{...o[c],[d]:r}}))}else h(c=>({...c,[s]:r}))},D=s=>{const r=s.target.files;if(r){const c=[];Array.from(r).forEach(d=>{const o=new FileReader;o.onloadend=()=>{c.push(o.result),c.length===r.length&&(v([...n,...c]),!u&&c.length>0&&p(c[0]))},o.readAsDataURL(d)})}},I=s=>{const r=n.filter((c,d)=>d!==s);v(r),u===n[s]&&p(r[0]||"")},N=async s=>{if(s.preventDefault(),!j?.id){b({message:"You must be logged in to create a product.",type:"error"});return}f(!0);try{const r=await k.create({sellerId:j.id,title:a.productName,description:a.description,price:parseFloat(a.price)||0,currency:"USD",imageUrl:n[0]||void 0,category:a.category||void 0});a.quantity&&parseInt(a.quantity)>0&&await k.updateInventory(r.id,parseInt(a.quantity)),b({message:`Product "${a.productName}" ${a.status==="active"?"published":"created"} successfully!`,type:"success"}),C("/seller-dashboard")}catch(r){console.error("Failed to create product:",r),b({message:r.message||"Failed to create product. Please try again.",type:"error"})}finally{f(!1)}},w=[{id:1,title:"Basic Information",icon:"ri-information-line"},{id:2,title:"Pricing & Inventory",icon:"ri-price-tag-3-line"},{id:3,title:"Shipping & Details",icon:"ri-truck-line"},{id:4,title:"SEO & Publish",icon:"ri-search-line"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(L,{}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(q,{to:"/seller-dashboard",className:"text-gray-600 hover:text-gray-900",children:e.jsx("i",{className:"ri-arrow-left-line text-xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Product"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new product listing for your store"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:w.map((s,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${l>=s.id?"bg-emerald-500 border-emerald-500 text-white":"border-gray-300 text-gray-500"}`,children:e.jsx("i",{className:s.icon})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:`text-sm font-medium ${l>=s.id?"text-emerald-600":"text-gray-500"}`,children:s.title})}),r<w.length-1&&e.jsx("div",{className:`w-16 h-0.5 mx-4 ${l>s.id?"bg-emerald-500":"bg-gray-300"}`})]},s.id))})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:N,className:"space-y-8",children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Product Images"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Main Image"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 h-64 flex items-center justify-center bg-gray-50",children:u?e.jsx("img",{src:u,alt:"Preview",className:"max-h-full max-w-full object-contain"}):e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No image selected."})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-emerald-500 transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:D,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx("i",{className:"ri-upload-cloud-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload images"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})]}),n.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2",children:n.map((s,r)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Product ${r+1}`,className:"w-full h-20 object-cover rounded-lg cursor-pointer border-2 border-transparent hover:border-emerald-500",onClick:()=>p(s)}),e.jsx("button",{type:"button",onClick:()=>I(r),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("i",{className:"ri-close-line text-sm"})})]},r))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx(i,{value:a.productName,onChange:s=>t("productName",s.target.value),placeholder:"Enter product name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:a.category,onChange:s=>t("category",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),S.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),e.jsxs("select",{value:a.subcategory,onChange:s=>t("subcategory",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",disabled:!a.category,children:[e.jsx("option",{value:"",children:"Select subcategory"}),a.category&&P[a.category]?.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"}),e.jsx(i,{value:a.shortDescription,onChange:s=>t("shortDescription",s.target.value),placeholder:"Brief product description (max 160 characters)",maxLength:160}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.shortDescription.length,"/160 characters"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description *"}),e.jsx("textarea",{value:a.description,onChange:s=>t("description",s.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Detailed product description, features, materials, care instructions...",required:!0})]})]})]})]}),l===2&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Pricing & Inventory"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (USD) *"}),e.jsx(i,{type:"number",value:a.price,onChange:s=>t("price",s.target.value),placeholder:"0.00",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compare at Price (USD)"}),e.jsx(i,{type:"number",value:a.comparePrice,onChange:s=>t("comparePrice",s.target.value),placeholder:"0.00",step:"0.01",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost per Item (USD)"}),e.jsx(i,{type:"number",value:a.costPerItem,onChange:s=>t("costPerItem",s.target.value),placeholder:"0.00",step:"0.01",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),e.jsx(i,{value:a.sku,onChange:s=>t("sku",s.target.value),placeholder:"Product SKU"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("input",{type:"checkbox",id:"trackQuantity",checked:a.trackQuantity,onChange:s=>t("trackQuantity",s.target.checked.toString()),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),e.jsx("label",{htmlFor:"trackQuantity",className:"text-sm font-medium text-gray-700",children:"Track quantity"})]})}),a.trackQuantity&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),e.jsx(i,{type:"number",value:a.quantity,onChange:s=>t("quantity",s.target.value),placeholder:"0",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Low Stock Threshold"}),e.jsx(i,{type:"number",value:a.lowStockThreshold,onChange:s=>t("lowStockThreshold",s.target.value),placeholder:"5",min:"0"})]})]})]})]}),l===3&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Shipping & Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg)"}),e.jsx(i,{type:"number",value:a.weight,onChange:s=>t("weight",s.target.value),placeholder:"0.0",step:"0.1",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ships From *"}),e.jsxs("select",{value:a.shippingFrom,onChange:s=>t("shippingFrom",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:[e.jsx("option",{value:"",children:"Select location"}),e.jsx("option",{value:"Lagos, Nigeria",children:"Lagos, Nigeria"}),e.jsx("option",{value:"Accra, Ghana",children:"Accra, Ghana"}),e.jsx("option",{value:"Nairobi, Kenya",children:"Nairobi, Kenya"}),e.jsx("option",{value:"Cape Town, South Africa",children:"Cape Town, South Africa"}),e.jsx("option",{value:"Cairo, Egypt",children:"Cairo, Egypt"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensions (cm)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(i,{type:"number",value:a.dimensions.length,onChange:s=>t("dimensions.length",s.target.value),placeholder:"Length",step:"0.1",min:"0"}),e.jsx(i,{type:"number",value:a.dimensions.width,onChange:s=>t("dimensions.width",s.target.value),placeholder:"Width",step:"0.1",min:"0"}),e.jsx(i,{type:"number",value:a.dimensions.height,onChange:s=>t("dimensions.height",s.target.value),placeholder:"Height",step:"0.1",min:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Time"}),e.jsxs("select",{value:a.processingTime,onChange:s=>t("processingTime",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"",children:"Select processing time"}),e.jsx("option",{value:"1-2 business days",children:"1-2 business days"}),e.jsx("option",{value:"3-5 business days",children:"3-5 business days"}),e.jsx("option",{value:"1-2 weeks",children:"1-2 weeks"}),e.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),e.jsx("option",{value:"Custom order",children:"Custom order"})]})]})]})]}),l===4&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"SEO & Publish"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Title"}),e.jsx(i,{value:a.seoTitle,onChange:s=>t("seoTitle",s.target.value),placeholder:"SEO-friendly title for search engines",maxLength:60}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.seoTitle.length,"/60 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Description"}),e.jsx("textarea",{value:a.seoDescription,onChange:s=>t("seoDescription",s.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Meta description for search engines",maxLength:160}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.seoDescription.length,"/160 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx(i,{value:a.tags,onChange:s=>t("tags",s.target.value),placeholder:"Comma-separated tags (e.g., handmade, african, traditional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Status"}),e.jsxs("select",{value:a.status,onChange:s=>t("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{children:l>1&&e.jsxs(g,{type:"button",onClick:()=>y(l-1),variant:"outline",children:[e.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Previous"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(g,{type:"button",variant:"outline",disabled:x,onClick:()=>{h({...a,status:"draft"}),N(new Event("submit"))},children:x?"Saving...":"Save as Draft"}),l<4?e.jsxs(g,{type:"button",onClick:()=>y(l+1),children:["Next",e.jsx("i",{className:"ri-arrow-right-line ml-2"})]}):e.jsx(g,{type:"submit",disabled:x,onClick:()=>h({...a,status:"active"}),children:x?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Publishing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-check-line mr-2"}),"Publish Product"]})})]})]})]})}),e.jsx(B,{})]})}export{$ as default};
//# sourceMappingURL=page-CLbnxtUR.js.map
