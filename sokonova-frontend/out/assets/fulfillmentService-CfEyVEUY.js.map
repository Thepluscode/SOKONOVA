{"version":3,"file":"fulfillmentService-CfEyVEUY.js","sources":["../../src/lib/services/fulfillmentService.ts"],"sourcesContent":["// Fulfillment Service - API integration for fulfillment/shipping module\n\nimport api from '../api';\n\ninterface DeliveryEstimate {\n    estimatedDays: number;\n    estimatedDate: string;\n    confidence: 'high' | 'medium' | 'low';\n}\n\ninterface ShippingOption {\n    carrier: string;\n    name: string;\n    price: number;\n    estimatedDays: number;\n}\n\ninterface TrackingInfo {\n    trackingNumber: string;\n    carrier: string;\n    status: string;\n    events: Array<{\n        timestamp: string;\n        description: string;\n        location?: string;\n    }>;\n}\n\ninterface FulfillmentStats {\n    pending: number;\n    shipped: number;\n    delivered: number;\n    issues: number;\n}\n\nexport const fulfillmentService = {\n    // ========== Buyer Endpoints ==========\n\n    /**\n     * Get delivery estimate for product\n     * GET /fulfillment/products/:productId/delivery-estimate\n     */\n    getDeliveryEstimate: async (productId: string, location?: string): Promise<DeliveryEstimate> => {\n        const query = location ? `?location=${encodeURIComponent(location)}` : '';\n        return api.get<DeliveryEstimate>(`/fulfillment/products/${productId}/delivery-estimate${query}`);\n    },\n\n    /**\n     * Get shipping options for items\n     * POST /fulfillment/shipping-options\n     */\n    getShippingOptions: async (\n        items: Array<{ productId: string; quantity: number }>,\n        location?: string\n    ): Promise<ShippingOption[]> => {\n        return api.post<ShippingOption[]>('/fulfillment/shipping-options', { items, location });\n    },\n\n    /**\n     * Track shipment by tracking number\n     * GET /fulfillment/track/:trackingNumber\n     */\n    trackShipment: async (trackingNumber: string): Promise<TrackingInfo> => {\n        return api.get<TrackingInfo>(`/fulfillment/track/${trackingNumber}`);\n    },\n\n    /**\n     * Get order tracking status\n     * GET /fulfillment/tracking/:orderId\n     */\n    getOrderTracking: async (orderId: string): Promise<unknown> => {\n        return api.get(`/fulfillment/tracking/${orderId}`);\n    },\n\n    // ========== Seller Endpoints ==========\n\n    /**\n     * Get seller's open fulfillment queue\n     * GET /fulfillment/seller/open\n     */\n    getSellerOpenFulfillment: async (): Promise<unknown[]> => {\n        return api.get<unknown[]>(`/fulfillment/seller/open`);\n    },\n\n    /**\n     * Get seller fulfillment stats\n     * GET /fulfillment/seller/stats\n     */\n    getSellerStats: async (): Promise<FulfillmentStats> => {\n        return api.get<FulfillmentStats>(`/fulfillment/seller/stats`);\n    },\n\n    /**\n     * Mark item as shipped\n     * PATCH /fulfillment/seller/ship/:orderItemId\n     */\n    markShipped: async (\n        orderItemId: string,\n        data: { carrier?: string; trackingCode?: string; note?: string }\n    ): Promise<unknown> => {\n        return api.patch(`/fulfillment/seller/ship/${orderItemId}`, data);\n    },\n\n    /**\n     * Mark item as delivered\n     * PATCH /fulfillment/seller/deliver/:orderItemId\n     */\n    markDelivered: async (\n        orderItemId: string,\n        data: { proofUrl?: string; note?: string }\n    ): Promise<unknown> => {\n        return api.patch(`/fulfillment/seller/deliver/${orderItemId}`, data);\n    },\n\n    /**\n     * Mark item with issue\n     * PATCH /fulfillment/seller/issue/:orderItemId\n     */\n    markIssue: async (\n        orderItemId: string,\n        note: string\n    ): Promise<unknown> => {\n        return api.patch(`/fulfillment/seller/issue/${orderItemId}`, { note });\n    },\n\n    /**\n     * Get delivery promise for product display\n     * GET /fulfillment/delivery-promise/:productId\n     */\n    getDeliveryPromise: async (productId: string, location?: string): Promise<DeliveryEstimate> => {\n        const query = location ? `?location=${encodeURIComponent(location)}` : '';\n        return api.get<DeliveryEstimate>(`/fulfillment/delivery-promise/${productId}${query}`);\n    },\n};\n\nexport default fulfillmentService;\n"],"names":["fulfillmentService","productId","location","query","api","items","trackingNumber","orderId","orderItemId","data","note"],"mappings":"wCAmCO,MAAMA,EAAqB,CAO9B,oBAAqB,MAAOC,EAAmBC,IAAiD,CAC5F,MAAMC,EAAQD,EAAW,aAAa,mBAAmBA,CAAQ,CAAC,GAAK,GACvE,OAAOE,EAAI,IAAsB,yBAAyBH,CAAS,qBAAqBE,CAAK,EAAE,CACnG,EAMA,mBAAoB,MAChBE,EACAH,IAEOE,EAAI,KAAuB,gCAAiC,CAAE,MAAAC,EAAO,SAAAH,EAAU,EAO1F,cAAe,MAAOI,GACXF,EAAI,IAAkB,sBAAsBE,CAAc,EAAE,EAOvE,iBAAkB,MAAOC,GACdH,EAAI,IAAI,yBAAyBG,CAAO,EAAE,EASrD,yBAA0B,SACfH,EAAI,IAAe,0BAA0B,EAOxD,eAAgB,SACLA,EAAI,IAAsB,2BAA2B,EAOhE,YAAa,MACTI,EACAC,IAEOL,EAAI,MAAM,4BAA4BI,CAAW,GAAIC,CAAI,EAOpE,cAAe,MACXD,EACAC,IAEOL,EAAI,MAAM,+BAA+BI,CAAW,GAAIC,CAAI,EAOvE,UAAW,MACPD,EACAE,IAEON,EAAI,MAAM,6BAA6BI,CAAW,GAAI,CAAE,KAAAE,EAAM,EAOzE,mBAAoB,MAAOT,EAAmBC,IAAiD,CAC3F,MAAMC,EAAQD,EAAW,aAAa,mBAAmBA,CAAQ,CAAC,GAAK,GACvE,OAAOE,EAAI,IAAsB,iCAAiCH,CAAS,GAAGE,CAAK,EAAE,CACzF,CACJ"}