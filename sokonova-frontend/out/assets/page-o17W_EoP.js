import{i as F,r as t,j as e}from"./index-BuEVh5sI.js";import{H as M,F as T}from"./Footer-BUHV-7DN.js";import{B as i}from"./Button-CIhQbQx6.js";import{a as x}from"./adminService-DcdpesXo.js";function V(){F("ADMIN");const[n,h]=t.useState("pending"),[C,g]=t.useState(!1),[k,j]=t.useState(!1),[r,c]=t.useState(null),[d,u]=t.useState(""),[v,f]=t.useState(""),[z,y]=t.useState(!0),[q,m]=t.useState(!1),[I,p]=t.useState(null),[o,b]=t.useState([]),[w,S]=t.useState([]),[A,R]=t.useState([]);t.useEffect(()=>{async function s(){y(!0),p(null);try{const[a,l,N]=await Promise.all([x.getSellerApplications("pending").catch(()=>[]),x.getSellerApplications("approved").catch(()=>[]),x.getSellerApplications("rejected").catch(()=>[])]);b(a),S(l),R(N)}catch(a){console.error("Failed to fetch applications:",a),p("Could not load seller applications.")}finally{y(!1)}}s()},[]);const D=s=>{c(s),g(!0)},P=s=>{c(s),j(!0)},E=async()=>{if(r){m(!0);try{await x.approveApplication(r,v);const s=o.find(a=>a.id===r);s&&(b(a=>a.filter(l=>l.id!==r)),S(a=>[...a,{...s,status:"approved",approvedDate:new Date().toISOString()}])),g(!1),f(""),c(null)}catch(s){console.error("Failed to approve:",s),p("Could not approve seller. Please try again.")}finally{m(!1)}}},$=async()=>{if(!(!r||!d.trim())){m(!0);try{await x.rejectApplication(r,d);const s=o.find(a=>a.id===r);s&&(b(a=>a.filter(l=>l.id!==r)),R(a=>[...a,{...s,status:"rejected",rejectionReason:d,rejectedDate:new Date().toISOString()}])),j(!1),u(""),c(null)}catch(s){console.error("Failed to reject:",s),p("Could not reject seller. Please try again.")}finally{m(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(M,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Seller Approval"}),e.jsx("p",{className:"text-gray-600",children:"Review and approve new seller applications"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 animate-fade-in-up",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Approval Guidelines"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Verify all required documents are submitted and valid"}),e.jsx("li",{children:"• Check business registration and tax compliance"}),e.jsx("li",{children:"• Review seller experience and product category fit"}),e.jsx("li",{children:"• Ensure contact information is accurate and verifiable"}),e.jsx("li",{children:"• Approved sellers will receive welcome email with onboarding instructions"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"100ms"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:o.length})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"200ms"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Approved"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:w.length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up",style:{animationDelay:"300ms"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Rejected"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:A.length})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-close-circle-line text-2xl text-red-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6 animate-scale-in",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>h("pending"),className:`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${n==="pending"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Pending",e.jsx("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-700 text-xs font-semibold rounded-full",children:o.length})]}),e.jsx("button",{onClick:()=>h("approved"),className:`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${n==="approved"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Approved"}),e.jsx("button",{onClick:()=>h("rejected"),className:`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${n==="rejected"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Rejected"})]})}),e.jsxs("div",{className:"p-6",children:[n==="pending"&&e.jsx("div",{className:"space-y-6",children:o.map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover-lift animate-fade-in-up",style:{animationDelay:`${a*100}ms`},children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.owner})]}),e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-medium rounded-full",children:"Pending"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4 bg-gray-50 p-3 rounded-lg",children:s.businessDescription}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"ri-mail-line mr-2"}),s.email]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"ri-phone-line mr-2"}),s.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"ri-store-2-line mr-2"}),s.category]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"ri-map-pin-line mr-2"}),s.location]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),"Submitted: ",s.submittedDate]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("i",{className:"ri-briefcase-line mr-2"}),"Experience: ",s.experience]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Submitted Documents:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.documents.map((l,N)=>e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full",children:[e.jsx("i",{className:"ri-file-check-line mr-1"}),l]},N))})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-star-fill text-yellow-400 mr-1"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.rating}),e.jsx("span",{className:"text-gray-600 ml-1",children:"Previous Rating"})]})})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:w-48",children:[e.jsxs(i,{onClick:()=>D(s.id),className:"w-full bg-green-600 hover:bg-green-700 text-white whitespace-nowrap",children:[e.jsx("i",{className:"ri-checkbox-circle-line mr-2"}),"Approve"]}),e.jsxs(i,{onClick:()=>P(s.id),variant:"outline",className:"w-full border-red-600 text-red-600 hover:bg-red-50 whitespace-nowrap",children:[e.jsx("i",{className:"ri-close-circle-line mr-2"}),"Reject"]}),e.jsxs(i,{variant:"outline",className:"w-full whitespace-nowrap",children:[e.jsx("i",{className:"ri-eye-line mr-2"}),"View Details"]})]})]})},s.id))}),n==="approved"&&e.jsx("div",{className:"space-y-4",children:w.map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover-lift animate-fade-in-up",style:{animationDelay:`${a*100}ms`},children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.name}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full",children:"Approved"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.owner}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Category"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Location"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.location})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Sales"}),e.jsx("p",{className:"font-medium text-green-600",children:s.totalSales})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Products"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.products})]})]})]})})},s.id))}),n==="rejected"&&e.jsx("div",{className:"space-y-4",children:A.map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover-lift animate-fade-in-up",style:{animationDelay:`${a*100}ms`},children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.name}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-sm font-medium rounded-full",children:"Rejected"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:s.owner}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Category"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Location"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.location})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Rejected Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.rejectedDate})]})]}),e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Reason:"})," ",s.rejectionReason]})})]})})},s.id))})]})]})]}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 animate-scale-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-checkbox-circle-line text-2xl text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Approve Seller"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to approve this seller? They will receive a welcome email with onboarding instructions."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Note (Optional)"}),e.jsx("textarea",{value:v,onChange:s=>f(s.target.value),placeholder:"Add any notes or special instructions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 resize-none",rows:3})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{onClick:E,className:"flex-1 bg-green-600 hover:bg-green-700 text-white whitespace-nowrap",children:"Confirm Approval"}),e.jsx(i,{onClick:()=>{g(!1),f(""),c(null)},variant:"outline",className:"flex-1 whitespace-nowrap",children:"Cancel"})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 animate-scale-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-close-circle-line text-2xl text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Seller"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejection. The seller will be notified via email."}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{value:d,onChange:s=>u(s.target.value),placeholder:"Explain why this application is being rejected...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{onClick:$,disabled:!d.trim(),className:"flex-1 bg-red-600 hover:bg-red-700 text-white whitespace-nowrap disabled:bg-gray-300",children:"Confirm Rejection"}),e.jsx(i,{onClick:()=>{j(!1),u(""),c(null)},variant:"outline",className:"flex-1 whitespace-nowrap",children:"Cancel"})]})]})}),e.jsx(T,{})]})}export{V as default};
//# sourceMappingURL=page-o17W_EoP.js.map
