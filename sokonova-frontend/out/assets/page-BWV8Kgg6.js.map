{"version":3,"file":"page-BWV8Kgg6.js","sources":["../../src/pages/login/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Header from '../../components/feature/Header';\nimport Footer from '../../components/feature/Footer';\nimport Button from '../../components/base/Button';\nimport Input from '../../components/base/Input';\nimport { useToast } from '../../contexts/ToastContext';\nimport { useAuth } from '../../lib/auth';\nimport { getErrorMessage } from '../../lib/errorUtils';\n\nexport default function LoginPage() {\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const { showToast } = useToast();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!email || !password) {\n      showToast({\n        message: 'Please enter both email and password.',\n        type: 'warning'\n      });\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const user = await login(email, password);\n\n      showToast({\n        message: 'Signed in successfully. Redirecting...',\n        type: 'success'\n      });\n\n      // Role-based redirect\n      setTimeout(() => {\n        if (user?.role === 'ADMIN') {\n          navigate('/admin/control-tower');\n        } else if (user?.role === 'SELLER') {\n          navigate('/seller-dashboard');\n        } else {\n          navigate('/account');\n        }\n      }, 1000);\n    } catch (error: unknown) {\n      console.error('Login error:', error);\n      const message = getErrorMessage(error, 'login');\n      showToast({\n        message,\n        type: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n\n      <div className=\"max-w-md mx-auto px-4 py-16\">\n        <div className=\"bg-white rounded-2xl shadow-lg p-8 animate-scale-in\">\n          {/* Header */}\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4\">\n              <i className=\"ri-user-line text-3xl text-emerald-600\"></i>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Welcome Back</h1>\n            <p className=\"text-gray-600\">Sign in to your SOKONOVA account</p>\n          </div>\n\n          {/* Login Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email Address\n              </label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"your@email.com\"\n                required\n                autoComplete=\"email\"\n                className=\"w-full\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Password\n              </label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Enter your password\"\n                required\n                autoComplete=\"current-password\"\n                className=\"w-full\"\n              />\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  className=\"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">Remember me</span>\n              </label>\n              <Link\n                to=\"/forgot-password\"\n                className=\"text-sm font-medium text-emerald-600 hover:text-emerald-700\"\n              >\n                Forgot password?\n              </Link>\n            </div>\n\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 text-lg font-semibold whitespace-nowrap\"\n            >\n              {loading ? (\n                <span className=\"flex items-center justify-center\">\n                  <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                  Signing in...\n                </span>\n              ) : (\n                <span className=\"flex items-center justify-center\">\n                  <i className=\"ri-login-box-line mr-2\"></i>\n                  Sign In\n                </span>\n              )}\n            </Button>\n          </form>\n\n          {/* Divider */}\n          <div className=\"relative my-6\">\n            <div className=\"absolute inset-0 flex items-center\">\n              <div className=\"w-full border-t border-gray-300\"></div>\n            </div>\n            <div className=\"relative flex justify-center text-sm\">\n              <span className=\"px-2 bg-white text-gray-500\">Or continue with</span>\n            </div>\n          </div>\n\n          {/* Social Login Options */}\n          <div className=\"grid grid-cols-2 gap-3\">\n            <button\n              type=\"button\"\n              className=\"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              <i className=\"ri-google-fill text-xl mr-2 text-red-500\"></i>\n              <span className=\"text-sm font-medium text-gray-700\">Google</span>\n            </button>\n            <button\n              type=\"button\"\n              className=\"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              <i className=\"ri-facebook-fill text-xl mr-2 text-blue-600\"></i>\n              <span className=\"text-sm font-medium text-gray-700\">Facebook</span>\n            </button>\n          </div>\n\n          {/* Sign Up Link */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Don't have an account?{' '}\n              <Link\n                to=\"/signup\"\n                className=\"font-medium text-emerald-600 hover:text-emerald-700\"\n              >\n                Sign up now\n              </Link>\n            </p>\n          </div>\n\n          {/* Seller Link */}\n          <div className=\"mt-4 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Want to sell on SOKONOVA?{' '}\n              <Link\n                to=\"/sell\"\n                className=\"font-medium text-emerald-600 hover:text-emerald-700\"\n              >\n                Become a seller\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        {/* Trust Badges */}\n        <div className=\"mt-8 text-center\">\n          <div className=\"flex items-center justify-center space-x-6 text-sm text-gray-500\">\n            <div className=\"flex items-center\">\n              <i className=\"ri-shield-check-line text-emerald-600 mr-1\"></i>\n              <span>Secure Login</span>\n            </div>\n            <div className=\"flex items-center\">\n              <i className=\"ri-lock-line text-emerald-600 mr-1\"></i>\n              <span>Encrypted</span>\n            </div>\n            <div className=\"flex items-center\">\n              <i className=\"ri-customer-service-2-line text-emerald-600 mr-1\"></i>\n              <span>24/7 Support</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n"],"names":["LoginPage","navigate","useNavigate","login","useAuth","showToast","useToast","email","setEmail","useState","password","setPassword","loading","setLoading","handleSubmit","e","user","error","message","getErrorMessage","jsxs","jsx","Header","Input","Link","Button","Footer"],"mappings":"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"}