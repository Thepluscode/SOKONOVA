import{r as n,j as e,a as h}from"./index-BuEVh5sI.js";function p({endTime:i,productName:c}){const[t,o]=n.useState({days:0,hours:0,minutes:0,seconds:0});return n.useEffect(()=>{const l=()=>{const a=i.getTime()-new Date().getTime();a>0?o({days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/1e3/60%60),seconds:Math.floor(a/1e3%60)}):o({days:0,hours:0,minutes:0,seconds:0})};l();const r=setInterval(l,1e3);return()=>clearInterval(r)},[i]),t.days===0&&t.hours===0&&t.minutes===0&&t.seconds===0?null:e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("i",{className:"ri-flashlight-fill text-2xl"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Flash Sale!"}),c&&e.jsx("p",{className:"text-sm text-white/90",children:c})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Ends in:"}),e.jsxs("div",{className:"flex gap-2",children:[t.days>0&&e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[60px] text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:t.days}),e.jsx("div",{className:"text-xs text-white/80",children:"Days"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[60px] text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(t.hours).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-white/80",children:"Hours"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[60px] text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(t.minutes).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-white/80",children:"Mins"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[60px] text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:String(t.seconds).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-white/80",children:"Secs"})]})]})]})]})}function g(){const[i,c]=n.useState([]),[t,o]=n.useState(0),[m,l]=n.useState(!0);n.useEffect(()=>{let s=!0;async function d(){try{const x=await h.get("/discovery/social-proof?limit=6");s&&c(x||[])}catch(x){console.error("Failed to load social proof notifications:",x),s&&c([])}}return d(),()=>{s=!1}},[]),n.useEffect(()=>{if(i.length===0)return;const s=setInterval(()=>{l(!1),setTimeout(()=>{o(d=>(d+1)%i.length),l(!0)},300)},5e3);return()=>clearInterval(s)},[i.length]);const r=i[t];if(i.length===0)return null;const a=s=>{switch(s){case"purchased":return"just purchased";case"reviewed":return"just reviewed";case"wishlisted":return"added to wishlist";default:return"interacted with"}},u=s=>{switch(s){case"purchased":return"ri-shopping-bag-line";case"reviewed":return"ri-star-line";case"wishlisted":return"ri-heart-line";default:return"ri-notification-line"}};return e.jsx("div",{className:`fixed bottom-6 left-6 bg-white rounded-lg shadow-xl border border-gray-200 p-4 max-w-sm z-40 transition-all duration-300 ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:`${u(r.action)} text-emerald-600 text-lg`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900 mb-1",children:[e.jsx("span",{className:"font-semibold",children:r.userName})," from"," ",e.jsx("span",{className:"font-medium",children:r.userLocation})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[a(r.action)," ",e.jsx("span",{className:"font-medium text-gray-900",children:r.productName})]}),e.jsx("p",{className:"text-xs text-gray-500",children:r.timeAgo})]}),e.jsx("button",{onClick:()=>l(!1),className:"w-6 h-6 hover:bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0 transition-colors cursor-pointer whitespace-nowrap",children:e.jsx("i",{className:"ri-close-line text-gray-400"})})]})})}export{p as F,g as S};
//# sourceMappingURL=SocialProof-smLOD2ra.js.map
