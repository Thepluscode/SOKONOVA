import{c as b,a as j,r as i,j as e}from"./index-ZA5ZORNU.js";import{H as N,F as y}from"./Footer-BVlzreGV.js";import{S as v}from"./SkeletonLoader-D9m7szI5.js";import{p as w}from"./productsService-Botvl8AH.js";import{c as S}from"./cartService-DyySmEOA.js";function T(){const l=b(),{user:n}=j(),[o,h]=i.useState("trending"),[g,c]=i.useState(!0),[d,p]=i.useState([]),[m,x]=i.useState(null);i.useEffect(()=>{async function t(){c(!0);try{const s=await w.list({limit:12});p(s)}catch(s){console.error("Failed to fetch products:",s)}finally{c(!1)}}t()},[o]);const u=async t=>{x(t);try{if(n?.id)await S.addItem(n.id,t,1);else{const s=JSON.parse(localStorage.getItem("cart")||"[]"),a=s.find(r=>r.productId===t);a?a.quantity+=1:s.push({productId:t,quantity:1}),localStorage.setItem("cart",JSON.stringify(s))}}catch(s){console.error("Failed to add to cart:",s)}finally{x(null)}},f=(t,s)=>t.imageUrl?t.imageUrl:`https://readdy.ai/api/search-image?query=modern%20product%20photography%20white%20background&width=400&height=400&seq=discover-${s}&orientation=squarish`;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx(N,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12 animate-fade-in-down",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Discover Amazing Products"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore trending items, new arrivals, and personalized recommendations just for you"})]}),e.jsx("div",{className:"flex justify-center mb-8 animate-fade-in",children:e.jsx("div",{className:"inline-flex bg-white rounded-full p-1 shadow-sm",children:[{id:"trending",label:"Trending",icon:"ri-fire-line"},{id:"new",label:"New Arrivals",icon:"ri-sparkle-line"},{id:"popular",label:"Popular",icon:"ri-heart-line"},{id:"deals",label:"Best Deals",icon:"ri-price-tag-3-line"}].map(t=>e.jsxs("button",{onClick:()=>h(t.id),className:`px-6 py-3 rounded-full font-medium text-sm transition-all duration-300 whitespace-nowrap flex items-center gap-2 ${o===t.id?"bg-teal-600 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx("i",{className:t.icon}),t.label]},t.id))})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:g?[...Array(8)].map((t,s)=>e.jsx(v,{type:"card"},s)):d.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("i",{className:"ri-box-3-line text-4xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No products found"})]}):d.map((t,s)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover-lift card-hover cursor-pointer animate-fade-in-up",style:{animationDelay:`${100+s*50}ms`},children:[e.jsxs("div",{className:"relative",onClick:()=>l(`/products/${t.id}`),children:[e.jsx("img",{src:f(t,s),alt:t.title,className:"w-full h-64 object-cover"}),s%3===0&&e.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"HOT"}),s%4===0&&e.jsx("div",{className:"absolute top-3 right-3 bg-teal-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"NEW"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 cursor-pointer hover:text-teal-600",onClick:()=>l(`/products/${t.id}`),children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((a,r)=>e.jsx("i",{className:`ri-star-${r<4?"fill":"line"} text-yellow-400 text-sm`},r)),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["$",Number(t.price).toFixed(2)]})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),u(t.id)},disabled:m===t.id,className:"w-9 h-9 rounded-full bg-teal-600 text-white flex items-center justify-center hover:bg-teal-700 transition-colors disabled:bg-teal-400",children:m===t.id?e.jsx("i",{className:"ri-loader-4-line animate-spin"}):e.jsx("i",{className:"ri-shopping-cart-line"})})]})]})]},t.id))}),e.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 rounded-2xl p-8 text-center text-white mb-12",children:[e.jsx("div",{className:"animate-float",children:e.jsx("i",{className:"ri-magic-line text-5xl mb-4"})}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get Personalized Recommendations"}),e.jsx("p",{className:"text-teal-100 mb-6 max-w-2xl mx-auto",children:"Sign in to see products tailored to your interests and shopping history"}),e.jsx("button",{onClick:()=>l("/discover/personalized"),className:"bg-white text-teal-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors",children:"View My Recommendations"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Shop by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Electronics",icon:"ri-smartphone-line",color:"blue"},{name:"Fashion",icon:"ri-shirt-line",color:"pink"},{name:"Home",icon:"ri-home-4-line",color:"green"},{name:"Beauty",icon:"ri-heart-pulse-line",color:"purple"},{name:"Sports",icon:"ri-basketball-line",color:"orange"},{name:"Books",icon:"ri-book-open-line",color:"indigo"}].map((t,s)=>e.jsxs("div",{onClick:()=>l(`/products?category=${encodeURIComponent(t.name)}`),className:"bg-white rounded-xl p-6 text-center hover-lift card-hover cursor-pointer",children:[e.jsx("div",{className:`w-16 h-16 mx-auto mb-3 rounded-full bg-${t.color}-100 flex items-center justify-center`,children:e.jsx("i",{className:`${t.icon} text-3xl text-${t.color}-600`})}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.name})]},s))})]})]}),e.jsx(y,{})]})}export{T as default};
//# sourceMappingURL=page-DH9_we7E.js.map
