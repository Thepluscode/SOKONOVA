import{a as g,e as ge,g as be,u as fe,r as i,j as e,L as Z}from"./index-CqGhWzgp.js";import{H as M,F as U}from"./Footer-oyiSEV0O.js";import{B as y}from"./Button-DkNP6qhN.js";import{f as ee}from"./fulfillmentService-BnK0_SsA.js";import{d as ye}from"./disputesService-HGmesabq.js";const je={getByProduct:async(r,a=1)=>g.get(`/reviews/product/${r}?page=${a}`),getSummary:async r=>g.get(`/reviews/product/${r}/summary`),create:async r=>g.post("/reviews",r),update:async(r,a)=>g.patch(`/reviews/${r}`,a),delete:async r=>g.delete(`/reviews/${r}`),markHelpful:async r=>g.post(`/reviews/${r}/helpful`,{}),getByUser:async r=>g.get(`/reviews/user/${r}`),getPending:async()=>g.get("/reviews/pending")},se=r=>{if(!r)return"";const a=new Date(r);return Number.isNaN(a.getTime())?"":a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},j=r=>{if(!r)return"";const a=new Date(r);return Number.isNaN(a.getTime())?"":a.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})},ve=r=>{switch(r){case"not_received":return"NOT_DELIVERED";case"damaged":return"DAMAGED";case"wrong_item":return"WRONG_ITEM";case"not_as_described":case"quality_issue":return"OTHER";default:return"OTHER"}},Ne=(r,a)=>{if(r)try{const c=JSON.parse(r);if(c&&typeof c=="object")return{name:c.name||a?.buyerName||a?.user?.name||"Buyer",street:c.street||c.address||"",city:c.city||"",state:c.state||"",country:c.country||"",postalCode:c.postalCode||c.zip||"",phone:c.phone||a?.buyerPhone||a?.user?.phone||""}}catch{return{name:a?.buyerName||a?.user?.name||"Buyer",street:r,city:"",state:"",country:"",postalCode:"",phone:a?.buyerPhone||a?.user?.phone||""}}return{name:a?.buyerName||a?.user?.name||"Buyer",street:"",city:"",state:"",country:"",postalCode:"",phone:a?.buyerPhone||a?.user?.phone||""}},we=r=>{if(!r)return[];const a=(r.status||"pending").toLowerCase(),p={pending:0,paid:1,shipped:2,delivered:3,cancelled:0}[a]??0,v=j(r.date),N=j(r.items?.find(h=>h.shippedAt)?.shippedAt),D=j(r.items?.find(h=>h.deliveredDate)?.deliveredDate);return[{status:"Order Placed",date:v,description:"Your order has been confirmed",icon:"ri-checkbox-circle-fill",completed:p>=0},{status:"Processing",date:v,description:"Seller is preparing your items",icon:"ri-box-3-fill",completed:p>=1},{status:"Shipped",date:N,description:"Package handed to carrier",icon:"ri-truck-fill",completed:p>=2},{status:"In Transit",date:N,description:"Package is on the way",icon:"ri-map-pin-fill",completed:p>=2},{status:"Delivered",date:D,description:"Package delivered successfully",icon:"ri-home-smile-fill",completed:p>=3}]};function Ee(){const{orderId:r}=ge();be();const{showToast:a}=fe(),[c,p]=i.useState(!0),[v,N]=i.useState(null),[D,h]=i.useState(!1),[te,A]=i.useState(!1),[re,E]=i.useState(!1),[L,B]=i.useState(""),[R,F]=i.useState(""),[H,o]=i.useState(null),[P,W]=i.useState(0),[O,z]=i.useState(""),[G,x]=i.useState(null),[b,w]=i.useState(""),[l,ae]=i.useState(null),[u,le]=i.useState({}),[f,V]=i.useState({}),[I,J]=i.useState({}),[$,ie]=i.useState(!1),[Q,ne]=i.useState({}),[Y,_]=i.useState({});i.useEffect(()=>{async function s(){if(r){p(!0),N(null);try{const t=await ee.getOrderTracking(r),S=Ne(t?.shippingAddress,t),C=(t?.items||[]).map(d=>({id:d.orderItemId,name:d.productTitle||"Product",price:Number(d.price||0),quantity:Number(d.qty||0),seller:d.sellerName||"Seller",image:d.productImage||"",status:d.fulfillmentStatus?.toLowerCase()||"processing",trackingCode:d.trackingCode||"",carrier:d.carrier||"",shippedAt:d.shippedAt||null,deliveredDate:d.deliveredAt||null,deliveryProofUrl:d.deliveryProofUrl||null}));ae({id:t.orderId,date:t.createdAt,status:(t.status||"PENDING").toLowerCase(),total:Number(t.total||0),currency:t.currency||"USD",items:C,shippingAddress:S}),!b&&C.length>0&&w(C[0].id)}catch(t){console.error("Failed to load order:",t),N("Could not load order details.")}finally{p(!1)}}}s()},[r]),i.useEffect(()=>{if(!$||!l?.items?.length)return;const s=setInterval(()=>{l.items.forEach(t=>{t.trackingCode&&k(t.id,t.trackingCode,!0,!1)})},300*1e3);return()=>clearInterval(s)},[$,l]);const ce=we(l),de=(()=>{switch(l?.status){case"delivered":return"bg-green-100 text-green-700";case"shipped":return"bg-blue-100 text-blue-700";case"paid":return"bg-yellow-100 text-yellow-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}})(),oe=l?.status?l.status.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()):"Pending",xe=async s=>{if(s.preventDefault(),!b){o("Select an item to dispute.");return}if(!L||!R.trim()){o("Provide a reason and description.");return}h(!0),o(null);try{await ye.open({orderItemId:b,reasonCode:ve(L),description:R.trim()}),a({message:"Dispute submitted. We will review it within 24 hours.",type:"success"}),A(!1),B(""),F(""),o(null)}catch(t){console.error("Failed to submit dispute:",t),o("Could not submit dispute. Please try again.")}finally{h(!1)}},ue=async s=>{if(s.preventDefault(),!b){x("Select an item to review.");return}if(P<1||!O.trim()){x("Select a rating and write a review.");return}h(!0),x(null);try{await je.create({orderItemId:b,rating:P,comment:O.trim()}),a({message:"Review submitted. Thank you.",type:"success"}),E(!1),W(0),z(""),x(null)}catch(t){console.error("Failed to submit review:",t),x("Could not submit review. Please try again.")}finally{h(!1)}},k=async(s,t,S=!1,C=!1)=>{if(!t){_(n=>({...n,[s]:"Tracking number not available yet."})),J(n=>({...n,[s]:new Date().toISOString()}));return}if(!S&&u[s]?.length||f[s])return;const d=n=>new Promise(T=>setTimeout(T,n)),me=n=>Math.round(n*(.7+Math.random()*.6)),X=3,pe=500;V(n=>({...n,[s]:!0})),_(n=>({...n,[s]:""}));try{let n=null;for(let m=1;m<=X;m+=1)try{n=await ee.trackShipment(t);break}catch(q){if(m===X)throw q;await d(me(pe*m))}const T=(n?.events||[]).slice().sort((m,q)=>{const he=new Date(m?.timestamp||0).getTime();return new Date(q?.timestamp||0).getTime()-he});le(m=>({...m,[s]:T})),J(m=>({...m,[s]:new Date().toISOString()}))}catch(n){console.error("Failed to load tracking events:",n),_(T=>({...T,[s]:"Tracking is temporarily unavailable. Please try again in a few minutes."})),C&&a({message:"Tracking is temporarily unavailable.",type:"error",actionLabel:"Retry now",onAction:()=>k(s,t,!0,!0)})}finally{V(n=>({...n,[s]:!1}))}},K=s=>{if(!s||s.length===0)return{label:"No updates",style:"bg-gray-100 text-gray-600"};const t=s[0]?.description?.toLowerCase?.()||"";return t.includes("out for delivery")?{label:"Out for Delivery",style:"bg-blue-100 text-blue-700"}:t.includes("delivered")?{label:"Delivered",style:"bg-green-100 text-green-700"}:t.includes("in transit")||t.includes("transit")?{label:"In Transit",style:"bg-yellow-100 text-yellow-700"}:t.includes("picked up")||t.includes("shipped")?{label:"Shipped",style:"bg-purple-100 text-purple-700"}:t.includes("exception")||t.includes("failed")?{label:"Exception",style:"bg-red-100 text-red-700"}:{label:"Update Available",style:"bg-gray-100 text-gray-600"}};return c?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(M,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("p",{className:"text-gray-600",children:"Loading order..."})}),e.jsx(U,{})]}):v||!l?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(M,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("p",{className:"text-red-600",children:v||"Order not found."})}),e.jsx(U,{})]}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(M,{}),e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Z,{to:"/",className:"hover:text-emerald-600",children:"Home"}),e.jsx("i",{className:"ri-arrow-right-s-line"}),e.jsx(Z,{to:"/buyer-orders",className:"hover:text-emerald-600",children:"My Orders"}),e.jsx("i",{className:"ri-arrow-right-s-line"}),e.jsxs("span",{className:"text-gray-900",children:["Order #",l.id]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Order #",l.id]}),e.jsxs("p",{className:"text-gray-600",children:["Placed on ",se(l.date)]})]}),e.jsxs("span",{className:`px-4 py-2 ${de} rounded-full font-medium whitespace-nowrap`,children:[e.jsx("i",{className:"ri-checkbox-circle-fill mr-1"}),oe]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tracking Timeline"}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:s=>ie(s.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),"Auto-refresh tracking (5 min)"]})]}),e.jsx("div",{className:"space-y-6",children:ce.map((s,t)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${s.completed?"bg-emerald-100 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:e.jsx("i",{className:`${s.icon} text-xl`})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`font-semibold ${s.completed?"text-gray-900":"text-gray-500"}`,children:s.status}),e.jsx("span",{className:"text-sm text-gray-500",children:s.date||"-"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Items"}),e.jsx("div",{className:"space-y-6",children:l.items.map(s=>e.jsxs("div",{className:"flex items-start space-x-4 pb-6 border-b border-gray-200 last:border-0",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover object-top"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No image."})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("i",{className:"ri-store-2-line mr-1"}),s.seller]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{children:["Qty: ",s.quantity]}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",s.price]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium whitespace-nowrap",children:s.status}),s.deliveredDate?e.jsxs("span",{className:"text-xs text-gray-500",children:["Delivered on ",se(s.deliveredDate)]}):e.jsx("span",{className:"text-xs text-gray-500",children:"Tracking in progress"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[e.jsx("i",{className:"ri-truck-line"}),e.jsx("span",{children:s.carrier||"Carrier pending"}),e.jsx("span",{className:"text-emerald-600 font-medium",children:s.trackingCode||"Tracking pending"})]}),s.deliveryProofUrl&&e.jsx("div",{className:"mb-3",children:e.jsx("a",{href:s.deliveryProofUrl,target:"_blank",rel:"noreferrer",className:"text-sm text-emerald-700 hover:text-emerald-800 underline",children:"View delivery proof"})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{type:"button",onClick:()=>k(s.id,s.trackingCode,!1,!0),className:"text-sm text-blue-600 hover:text-blue-800",disabled:f[s.id],children:f[s.id]?"Loading tracking...":"View tracking events"}),u[s.id]?.length>0&&e.jsx("button",{type:"button",onClick:()=>k(s.id,s.trackingCode,!0,!0),className:"ml-3 text-sm text-gray-600 hover:text-gray-800",disabled:f[s.id],children:"Refresh"}),f[s.id]&&e.jsxs("span",{className:"ml-3 inline-flex items-center gap-1 text-xs text-gray-500",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Loading..."]}),Y[s.id]&&!f[s.id]&&e.jsx("div",{className:"mt-3 rounded-lg border border-red-200 bg-red-50 p-3 text-xs text-red-700",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("span",{children:Y[s.id]}),e.jsx("button",{type:"button",onClick:()=>k(s.id,s.trackingCode,!0,!0),className:"text-xs font-semibold text-red-700 hover:text-red-800",children:"Retry now"})]})}),u[s.id]?.length>0&&e.jsxs("div",{className:"mt-3 space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-3 text-xs text-gray-600",children:[I[s.id]&&e.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500",children:[e.jsx("span",{children:"Last updated"}),e.jsx("span",{children:j(I[s.id])})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[11px] text-gray-500",children:"Latest status"}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[11px] font-medium rounded-full ${K(u[s.id]).style}`,children:K(u[s.id]).label})]}),(Q[s.id]?u[s.id]:u[s.id].slice(0,3)).map((t,S)=>e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("span",{children:t.description}),e.jsx("span",{className:"text-gray-500 whitespace-nowrap",children:j(t.timestamp)})]},S)),u[s.id].length>3&&e.jsx("button",{type:"button",onClick:()=>ne(t=>({...t,[s.id]:!t[s.id]})),className:"text-[11px] text-blue-600 hover:text-blue-800 text-left",children:Q[s.id]?"Show less":`Show ${u[s.id].length-3} more`})]}),u[s.id]&&u[s.id].length===0&&!f[s.id]&&e.jsxs("div",{className:"mt-3 rounded-lg border border-dashed border-gray-200 bg-gray-50 p-3 text-xs text-gray-500",children:[I[s.id]&&e.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500 mb-2",children:[e.jsx("span",{children:"Last updated"}),e.jsx("span",{children:j(I[s.id])})]}),e.jsx("span",{children:"No tracking events yet. Check back soon."})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(y,{variant:"outline",onClick:()=>{w(s.id),x(null),E(!0)},className:"whitespace-nowrap",children:[e.jsx("i",{className:"ri-star-line mr-2"}),"Write Review"]}),e.jsxs(y,{variant:"outline",onClick:()=>{w(s.id),o(null),A(!0)},className:"whitespace-nowrap",children:[e.jsx("i",{className:"ri-error-warning-line mr-2"}),"Report Issue"]})]})]})]},s.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shipping Address"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("p",{className:"font-medium",children:l.shippingAddress.name}),l.shippingAddress.street&&e.jsx("p",{children:l.shippingAddress.street}),e.jsx("p",{children:[l.shippingAddress.city,l.shippingAddress.state].filter(Boolean).join(", ")}),e.jsx("p",{children:[l.shippingAddress.country,l.shippingAddress.postalCode].filter(Boolean).join(" ")}),l.shippingAddress.phone&&e.jsx("p",{className:"pt-2",children:l.shippingAddress.phone})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",l.total]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"font-medium text-green-600",children:"Free"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-3 flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),e.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["$",l.total]})]})]})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl border border-emerald-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:[e.jsx("i",{className:"ri-customer-service-line text-emerald-600 mr-2"}),"Need Help?"]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Our support team is here to assist you with any questions or concerns."}),e.jsxs(y,{variant:"outline",className:"w-full whitespace-nowrap",children:[e.jsx("i",{className:"ri-message-3-line mr-2"}),"Contact Support"]})]})]})]})}),te&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Report an Issue"}),e.jsx("button",{onClick:()=>{A(!1),o(null)},className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("form",{onSubmit:xe,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item *"}),e.jsx("select",{value:b,onChange:s=>{w(s.target.value),o(null)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:l.items.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Type *"}),e.jsxs("select",{value:L,onChange:s=>{B(s.target.value),o(null)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:[e.jsx("option",{value:"",children:"Select an issue"}),e.jsx("option",{value:"not_received",children:"Item not received"}),e.jsx("option",{value:"damaged",children:"Item damaged"}),e.jsx("option",{value:"wrong_item",children:"Wrong item received"}),e.jsx("option",{value:"not_as_described",children:"Not as described"}),e.jsx("option",{value:"quality_issue",children:"Quality issue"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:R,onChange:s=>{F(s.target.value),o(null)},placeholder:"Please describe the issue in detail...",rows:6,maxLength:500,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[R.length,"/500 characters"]})]})]}),H&&e.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:H}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(y,{type:"button",variant:"outline",onClick:()=>{A(!1),o(null)},className:"flex-1 whitespace-nowrap",children:"Cancel"}),e.jsx(y,{type:"submit",className:"flex-1 whitespace-nowrap",disabled:D,children:"Submit Issue"})]})]})]})}),re&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Write a Review"}),e.jsx("button",{onClick:()=>{E(!1),x(null)},className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("form",{onSubmit:ue,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item *"}),e.jsx("select",{value:b,onChange:s=>{w(s.target.value),x(null)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:l.items.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>{W(s),x(null)},className:"cursor-pointer",children:e.jsx("i",{className:`${s<=P?"ri-star-fill text-yellow-400":"ri-star-line text-gray-300"} text-3xl`})},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"}),e.jsx("textarea",{value:O,onChange:s=>{z(s.target.value),x(null)},placeholder:"Share your experience with this product...",rows:6,maxLength:500,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[O.length,"/500 characters"]})]})]}),G&&e.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:G}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(y,{type:"button",variant:"outline",onClick:()=>{E(!1),x(null)},className:"flex-1 whitespace-nowrap",children:"Cancel"}),e.jsx(y,{type:"submit",className:"flex-1 whitespace-nowrap",disabled:P===0||D,children:"Submit Review"})]})]})]})}),e.jsx(U,{})]})}export{Ee as default};
//# sourceMappingURL=page-jdZKWmZP.js.map
