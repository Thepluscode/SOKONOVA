{"version":3,"file":"page-B0HWGMge.js","sources":["../../src/pages/admin/control-tower/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Header from '../../../components/feature/Header';\nimport Footer from '../../../components/feature/Footer';\nimport Button from '../../../components/base/Button';\nimport { adminService } from '../../../lib/services';\nimport { useRequireAuth } from '../../../lib/auth';\n\ninterface SystemHealth {\n  name: string;\n  value: string;\n  status: string;\n  icon: string;\n}\n\ninterface LiveMetric {\n  label: string;\n  value: string;\n  change: string;\n  icon: string;\n}\n\ninterface Alert {\n  id: string;\n  type: 'warning' | 'info' | 'error' | 'success';\n  message: string;\n  time: string;\n  severity: string;\n}\n\ninterface RegionalData {\n  region: string;\n  orders: number;\n  revenue: string;\n  growth: string;\n  status: string;\n}\n\nexport default function ControlTowerPage() {\n  useRequireAuth('ADMIN');\n\n  const [activeTab, setActiveTab] = useState<'overview' | 'alerts' | 'performance'>('overview');\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n\n  // Data state\n  const [healthData, setHealthData] = useState<any>(null);\n  const [metricsData, setMetricsData] = useState<any>(null);\n  const [alertsData, setAlertsData] = useState<any>(null);\n  const [userInsights, setUserInsights] = useState<any>(null);\n\n  // Derived display data\n  const [systemHealth, setSystemHealth] = useState<SystemHealth[]>([]);\n  const [liveMetrics, setLiveMetrics] = useState<LiveMetric[]>([]);\n  const [alerts, setAlerts] = useState<Alert[]>([]);\n  const [regionalPerformance, setRegionalPerformance] = useState<RegionalData[]>([]);\n\n  const fetchData = async () => {\n    try {\n      const [health, metrics, alertsRes, insights] = await Promise.all([\n        adminService.getControlTowerHealth().catch(() => null),\n        adminService.getControlTowerMetrics().catch(() => null),\n        adminService.getControlTowerAlerts().catch(() => null),\n        adminService.getControlTowerUserInsights().catch(() => null),\n      ]);\n\n      setHealthData(health);\n      setMetricsData(metrics);\n      setAlertsData(alertsRes);\n      setUserInsights(insights);\n\n      // Transform health data for display\n      if (health) {\n        setSystemHealth([\n          { name: 'API Uptime', value: '99.98%', status: health.healthStatus || 'healthy', icon: 'ri-server-line' },\n          { name: 'Database', value: health.healthStatus === 'HEALTHY' ? 'Optimal' : health.healthStatus, status: 'healthy', icon: 'ri-database-2-line' },\n          { name: 'Total Users', value: health.userCount?.toLocaleString() || '0', status: 'healthy', icon: 'ri-user-line' },\n          { name: 'Total Products', value: health.productCount?.toLocaleString() || '0', status: 'healthy', icon: 'ri-shopping-bag-line' }\n        ]);\n\n        setLiveMetrics([\n          { label: 'Total Users', value: health.userCount?.toLocaleString() || '0', change: `+${health.userGrowth || 0}`, icon: 'ri-user-line' },\n          { label: 'Total Orders', value: health.orderCount?.toLocaleString() || '0', change: '+' + health.recentOrdersCount, icon: 'ri-shopping-cart-line' },\n          { label: 'Active Sellers', value: health.sellerCount?.toLocaleString() || '0', change: '+0%', icon: 'ri-store-2-line' },\n          { label: 'Pending Applications', value: health.pendingApplications?.toString() || '0', change: '', icon: 'ri-time-line' }\n        ]);\n      }\n\n      // Transform alerts data\n      if (alertsRes) {\n        const transformedAlerts: Alert[] = [];\n\n        if (alertsRes.pendingApplications?.length > 0) {\n          alertsRes.pendingApplications.forEach((app: any, idx: number) => {\n            transformedAlerts.push({\n              id: `app-${idx}`,\n              type: 'warning',\n              message: `Pending seller application from ${app.user?.name || 'Unknown'}`,\n              time: 'Pending review',\n              severity: 'medium'\n            });\n          });\n        }\n\n        if (alertsRes.openDisputes?.length > 0) {\n          alertsRes.openDisputes.forEach((dispute: any, idx: number) => {\n            transformedAlerts.push({\n              id: `dispute-${idx}`,\n              type: 'error',\n              message: `Open dispute: ${dispute.orderItem?.product?.title || 'Order item'}`,\n              time: 'Action required',\n              severity: 'high'\n            });\n          });\n        }\n\n        if (alertsRes.complianceIssues?.length > 0) {\n          alertsRes.complianceIssues.forEach((issue: any, idx: number) => {\n            transformedAlerts.push({\n              id: `compliance-${idx}`,\n              type: 'warning',\n              message: `KYC rejected for ${issue.seller?.shopName || 'Seller'}`,\n              time: 'Review needed',\n              severity: 'medium'\n            });\n          });\n        }\n\n        setAlerts(transformedAlerts);\n      }\n\n      // Transform user insights for regional data\n      if (insights?.userByCountry) {\n        const regional = insights.userByCountry.slice(0, 5).map((item: any) => ({\n          region: item.country || 'Unknown',\n          orders: item._count || 0,\n          revenue: '$' + ((item._count || 0) * 50).toLocaleString(),\n          growth: '+' + Math.floor(Math.random() * 20) + '%',\n          status: item._count > 100 ? 'excellent' : 'good'\n        }));\n        setRegionalPerformance(regional);\n      }\n\n    } catch (error) {\n      console.error('Failed to fetch control tower data:', error);\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleRefresh = () => {\n    setRefreshing(true);\n    fetchData();\n  };\n\n  const healthStatus = healthData?.healthStatus || 'STABLE';\n  const isHealthy = healthStatus === 'HEALTHY' || healthStatus === 'STABLE';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 animate-fade-in-down\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Control Tower</h1>\n            <p className=\"text-gray-600\">Real-time platform monitoring and operations</p>\n          </div>\n          <div className=\"flex items-center space-x-3 mt-4 sm:mt-0\">\n            <div className={`flex items-center space-x-2 px-4 py-2 ${isHealthy ? 'bg-green-50 border-green-200' : 'bg-yellow-50 border-yellow-200'} border rounded-lg`}>\n              <div className={`w-2 h-2 ${isHealthy ? 'bg-green-600' : 'bg-yellow-600'} rounded-full animate-pulse`}></div>\n              <span className={`text-sm font-medium ${isHealthy ? 'text-green-700' : 'text-yellow-700'}`}>\n                {isHealthy ? 'All Systems Operational' : healthStatus}\n              </span>\n            </div>\n            <Button onClick={handleRefresh} disabled={refreshing} className=\"whitespace-nowrap\">\n              <i className={`ri-refresh-line mr-2 ${refreshing ? 'animate-spin' : ''}`}></i>\n              {refreshing ? 'Refreshing...' : 'Refresh'}\n            </Button>\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"bg-white rounded-lg border border-gray-200 p-6 animate-pulse\">\n                <div className=\"h-12 w-12 bg-gray-200 rounded-lg mb-4\"></div>\n                <div className=\"h-4 w-24 bg-gray-200 rounded mb-2\"></div>\n                <div className=\"h-6 w-16 bg-gray-200 rounded\"></div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <>\n            {/* System Health */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n              {systemHealth.map((system, index) => (\n                <div key={index} className=\"bg-white rounded-lg border border-gray-200 p-6 animate-fade-in-up\" style={{ animationDelay: `${index * 100}ms` }}>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n                      <i className={`${system.icon} text-2xl text-green-600`}></i>\n                    </div>\n                    <span className=\"w-3 h-3 bg-green-600 rounded-full animate-pulse\"></span>\n                  </div>\n                  <h3 className=\"text-sm font-medium text-gray-600 mb-1\">{system.name}</h3>\n                  <p className=\"text-xl font-bold text-gray-900\">{system.value}</p>\n                </div>\n              ))}\n            </div>\n\n            {/* Tabs */}\n            <div className=\"bg-white rounded-lg border border-gray-200 mb-6 animate-scale-in\">\n              <div className=\"border-b border-gray-200\">\n                <div className=\"flex space-x-8 px-6\">\n                  <button\n                    onClick={() => setActiveTab('overview')}\n                    className={`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${activeTab === 'overview'\n                        ? 'border-emerald-600 text-emerald-600'\n                        : 'border-transparent text-gray-500 hover:text-gray-700'\n                      }`}\n                  >\n                    Overview\n                  </button>\n                  <button\n                    onClick={() => setActiveTab('alerts')}\n                    className={`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${activeTab === 'alerts'\n                        ? 'border-emerald-600 text-emerald-600'\n                        : 'border-transparent text-gray-500 hover:text-gray-700'\n                      }`}\n                  >\n                    Alerts\n                    {alerts.length > 0 && (\n                      <span className=\"ml-2 px-2 py-1 bg-red-100 text-red-700 text-xs font-semibold rounded-full\">{alerts.length}</span>\n                    )}\n                  </button>\n                  <button\n                    onClick={() => setActiveTab('performance')}\n                    className={`py-4 border-b-2 font-medium text-sm transition-colors cursor-pointer ${activeTab === 'performance'\n                        ? 'border-emerald-600 text-emerald-600'\n                        : 'border-transparent text-gray-500 hover:text-gray-700'\n                      }`}\n                  >\n                    Performance\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"p-6\">\n                {activeTab === 'overview' && (\n                  <div className=\"space-y-6\">\n                    {/* Live Metrics */}\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Live Metrics</h3>\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n                        {liveMetrics.map((metric, index) => (\n                          <div key={index} className=\"p-4 bg-gray-50 rounded-lg border border-gray-200 animate-fade-in-up\" style={{ animationDelay: `${index * 50}ms` }}>\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <i className={`${metric.icon} text-xl text-gray-600`}></i>\n                              {metric.change && (\n                                <span className=\"text-xs font-medium text-green-600\">{metric.change}</span>\n                              )}\n                            </div>\n                            <p className=\"text-2xl font-bold text-gray-900 mb-1\">{metric.value}</p>\n                            <p className=\"text-sm text-gray-600\">{metric.label}</p>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Regional Performance */}\n                    {regionalPerformance.length > 0 && (\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">User Distribution by Region</h3>\n                        <div className=\"overflow-x-auto\">\n                          <table className=\"w-full\">\n                            <thead className=\"bg-gray-50 border-b border-gray-200\">\n                              <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Region</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Users</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Est. Revenue</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Growth</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                              </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-200\">\n                              {regionalPerformance.map((region, index) => (\n                                <tr key={index} className=\"hover:bg-gray-50 animate-fade-in-up\" style={{ animationDelay: `${index * 50}ms` }}>\n                                  <td className=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">{region.region}</td>\n                                  <td className=\"px-6 py-4 whitespace-nowrap text-gray-700\">{region.orders}</td>\n                                  <td className=\"px-6 py-4 whitespace-nowrap text-gray-700\">{region.revenue}</td>\n                                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <span className=\"text-green-600 font-medium\">{region.growth}</span>\n                                  </td>\n                                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${region.status === 'excellent'\n                                        ? 'bg-green-100 text-green-700'\n                                        : 'bg-blue-100 text-blue-700'\n                                      }`}>\n                                      {region.status}\n                                    </span>\n                                  </td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {activeTab === 'alerts' && (\n                  <div className=\"space-y-4\">\n                    {alerts.length === 0 ? (\n                      <div className=\"text-center py-12\">\n                        <i className=\"ri-checkbox-circle-line text-5xl text-green-500 mb-4\"></i>\n                        <h3 className=\"text-lg font-semibold text-gray-900\">No Active Alerts</h3>\n                        <p className=\"text-gray-600\">All systems are operating normally.</p>\n                      </div>\n                    ) : (\n                      alerts.map((alert, index) => (\n                        <div\n                          key={alert.id}\n                          className={`p-4 rounded-lg border hover-lift animate-fade-in-up ${alert.type === 'error' ? 'bg-red-50 border-red-200' :\n                              alert.type === 'warning' ? 'bg-yellow-50 border-yellow-200' :\n                                alert.type === 'success' ? 'bg-green-50 border-green-200' :\n                                  'bg-blue-50 border-blue-200'\n                            }`}\n                          style={{ animationDelay: `${index * 100}ms` }}\n                        >\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex items-start space-x-3\">\n                              <i className={`text-xl ${alert.type === 'error' ? 'ri-error-warning-line text-red-600' :\n                                  alert.type === 'warning' ? 'ri-alert-line text-yellow-600' :\n                                    alert.type === 'success' ? 'ri-checkbox-circle-line text-green-600' :\n                                      'ri-information-line text-blue-600'\n                                }`}></i>\n                              <div>\n                                <p className={`font-medium ${alert.type === 'error' ? 'text-red-900' :\n                                    alert.type === 'warning' ? 'text-yellow-900' :\n                                      alert.type === 'success' ? 'text-green-900' :\n                                        'text-blue-900'\n                                  }`}>\n                                  {alert.message}\n                                </p>\n                                <p className=\"text-sm text-gray-600 mt-1\">{alert.time}</p>\n                              </div>\n                            </div>\n                            <Button variant=\"outline\" size=\"sm\" className=\"whitespace-nowrap\">\n                              Resolve\n                            </Button>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                )}\n\n                {activeTab === 'performance' && (\n                  <div className=\"space-y-6\">\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                      <div className=\"p-6 bg-gray-50 rounded-lg border border-gray-200 animate-fade-in-up\" style={{ animationDelay: '100ms' }}>\n                        <h4 className=\"font-semibold text-gray-900 mb-4\">Platform Stats</h4>\n                        <div className=\"space-y-3\">\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm text-gray-600\">Total Users</span>\n                            <span className=\"text-sm font-semibold text-gray-900\">{healthData?.userCount?.toLocaleString() || '0'}</span>\n                          </div>\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm text-gray-600\">Total Orders</span>\n                            <span className=\"text-sm font-semibold text-gray-900\">{healthData?.orderCount?.toLocaleString() || '0'}</span>\n                          </div>\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm text-gray-600\">Active Sellers</span>\n                            <span className=\"text-sm font-semibold text-green-600\">{healthData?.sellerCount?.toLocaleString() || '0'}</span>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"p-6 bg-gray-50 rounded-lg border border-gray-200 animate-fade-in-up\" style={{ animationDelay: '200ms' }}>\n                        <h4 className=\"font-semibold text-gray-900 mb-4\">Alerts Summary</h4>\n                        <div className=\"space-y-3\">\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm text-gray-600\">Open Disputes</span>\n                            <span className=\"text-sm font-semibold text-gray-900\">{healthData?.openDisputes || 0}</span>\n                          </div>\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm text-gray-600\">Pending Applications</span>\n                            <span className=\"text-sm font-semibold text-gray-900\">{healthData?.pendingApplications || 0}</span>\n                          </div>\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm text-gray-600\">Recent Orders (24h)</span>\n                            <span className=\"text-sm font-semibold text-green-600\">{healthData?.recentOrdersCount || 0}</span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n"],"names":["ControlTowerPage","useRequireAuth","activeTab","setActiveTab","useState","loading","setLoading","refreshing","setRefreshing","healthData","setHealthData","metricsData","setMetricsData","alertsData","setAlertsData","userInsights","setUserInsights","systemHealth","setSystemHealth","liveMetrics","setLiveMetrics","alerts","setAlerts","regionalPerformance","setRegionalPerformance","fetchData","health","metrics","alertsRes","insights","adminService","transformedAlerts","app","idx","dispute","issue","regional","item","error","useEffect","handleRefresh","healthStatus","isHealthy","jsxs","jsx","Header","Button","i","Fragment","system","index","metric","region","alert","Footer"],"mappings":"8LAqCA,SAAwBA,GAAmB,CACzCC,EAAe,OAAO,EAEtB,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAgD,UAAU,EACtF,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAYC,CAAa,EAAIJ,EAAAA,SAAS,EAAK,EAG5C,CAACK,EAAYC,CAAa,EAAIN,EAAAA,SAAc,IAAI,EAChD,CAACO,EAAaC,CAAc,EAAIR,EAAAA,SAAc,IAAI,EAClD,CAACS,EAAYC,CAAa,EAAIV,EAAAA,SAAc,IAAI,EAChD,CAACW,EAAcC,CAAe,EAAIZ,EAAAA,SAAc,IAAI,EAGpD,CAACa,EAAcC,CAAe,EAAId,EAAAA,SAAyB,CAAA,CAAE,EAC7D,CAACe,EAAaC,CAAc,EAAIhB,EAAAA,SAAuB,CAAA,CAAE,EACzD,CAACiB,EAAQC,CAAS,EAAIlB,EAAAA,SAAkB,CAAA,CAAE,EAC1C,CAACmB,EAAqBC,CAAsB,EAAIpB,EAAAA,SAAyB,CAAA,CAAE,EAE3EqB,EAAY,SAAY,CAC5B,GAAI,CACF,KAAM,CAACC,EAAQC,EAASC,EAAWC,CAAQ,EAAI,MAAM,QAAQ,IAAI,CAC/DC,EAAa,sBAAA,EAAwB,MAAM,IAAM,IAAI,EACrDA,EAAa,uBAAA,EAAyB,MAAM,IAAM,IAAI,EACtDA,EAAa,sBAAA,EAAwB,MAAM,IAAM,IAAI,EACrDA,EAAa,4BAAA,EAA8B,MAAM,IAAM,IAAI,CAAA,CAC5D,EAyBD,GAvBApB,EAAcgB,CAAM,EACpBd,EAAee,CAAO,EACtBb,EAAcc,CAAS,EACvBZ,EAAgBa,CAAQ,EAGpBH,IACFR,EAAgB,CACd,CAAE,KAAM,aAAc,MAAO,SAAU,OAAQQ,EAAO,cAAgB,UAAW,KAAM,gBAAA,EACvF,CAAE,KAAM,WAAY,MAAOA,EAAO,eAAiB,UAAY,UAAYA,EAAO,aAAc,OAAQ,UAAW,KAAM,oBAAA,EACzH,CAAE,KAAM,cAAe,MAAOA,EAAO,WAAW,eAAA,GAAoB,IAAK,OAAQ,UAAW,KAAM,cAAA,EAClG,CAAE,KAAM,iBAAkB,MAAOA,EAAO,cAAc,eAAA,GAAoB,IAAK,OAAQ,UAAW,KAAM,sBAAA,CAAuB,CAChI,EAEDN,EAAe,CACb,CAAE,MAAO,cAAe,MAAOM,EAAO,WAAW,eAAA,GAAoB,IAAK,OAAQ,IAAIA,EAAO,YAAc,CAAC,GAAI,KAAM,cAAA,EACtH,CAAE,MAAO,eAAgB,MAAOA,EAAO,YAAY,eAAA,GAAoB,IAAK,OAAQ,IAAMA,EAAO,kBAAmB,KAAM,uBAAA,EAC1H,CAAE,MAAO,iBAAkB,MAAOA,EAAO,aAAa,eAAA,GAAoB,IAAK,OAAQ,MAAO,KAAM,iBAAA,EACpG,CAAE,MAAO,uBAAwB,MAAOA,EAAO,qBAAqB,SAAA,GAAc,IAAK,OAAQ,GAAI,KAAM,cAAA,CAAe,CACzH,GAICE,EAAW,CACb,MAAMG,EAA6B,CAAA,EAE/BH,EAAU,qBAAqB,OAAS,GAC1CA,EAAU,oBAAoB,QAAQ,CAACI,EAAUC,IAAgB,CAC/DF,EAAkB,KAAK,CACrB,GAAI,OAAOE,CAAG,GACd,KAAM,UACN,QAAS,mCAAmCD,EAAI,MAAM,MAAQ,SAAS,GACvE,KAAM,iBACN,SAAU,QAAA,CACX,CACH,CAAC,EAGCJ,EAAU,cAAc,OAAS,GACnCA,EAAU,aAAa,QAAQ,CAACM,EAAcD,IAAgB,CAC5DF,EAAkB,KAAK,CACrB,GAAI,WAAWE,CAAG,GAClB,KAAM,QACN,QAAS,iBAAiBC,EAAQ,WAAW,SAAS,OAAS,YAAY,GAC3E,KAAM,kBACN,SAAU,MAAA,CACX,CACH,CAAC,EAGCN,EAAU,kBAAkB,OAAS,GACvCA,EAAU,iBAAiB,QAAQ,CAACO,EAAYF,IAAgB,CAC9DF,EAAkB,KAAK,CACrB,GAAI,cAAcE,CAAG,GACrB,KAAM,UACN,QAAS,oBAAoBE,EAAM,QAAQ,UAAY,QAAQ,GAC/D,KAAM,gBACN,SAAU,QAAA,CACX,CACH,CAAC,EAGHb,EAAUS,CAAiB,CAC7B,CAGA,GAAIF,GAAU,cAAe,CAC3B,MAAMO,EAAWP,EAAS,cAAc,MAAM,EAAG,CAAC,EAAE,IAAKQ,IAAe,CACtE,OAAQA,EAAK,SAAW,UACxB,OAAQA,EAAK,QAAU,EACvB,QAAS,MAAQA,EAAK,QAAU,GAAK,IAAI,eAAA,EACzC,OAAQ,IAAM,KAAK,MAAM,KAAK,OAAA,EAAW,EAAE,EAAI,IAC/C,OAAQA,EAAK,OAAS,IAAM,YAAc,MAAA,EAC1C,EACFb,EAAuBY,CAAQ,CACjC,CAEF,OAASE,EAAO,CACd,QAAQ,MAAM,sCAAuCA,CAAK,CAC5D,QAAA,CACEhC,EAAW,EAAK,EAChBE,EAAc,EAAK,CACrB,CACF,EAEA+B,EAAAA,UAAU,IAAM,CACdd,EAAA,CACF,EAAG,CAAA,CAAE,EAEL,MAAMe,EAAgB,IAAM,CAC1BhC,EAAc,EAAI,EAClBiB,EAAA,CACF,EAEMgB,EAAehC,GAAY,cAAgB,SAC3CiC,EAAYD,IAAiB,WAAaA,IAAiB,SAEjE,OACEE,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,EAAO,EAERF,EAAAA,KAAC,MAAA,CAAI,UAAU,8CAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kGACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,gBAAa,EACnEA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,8CAAA,CAA4C,CAAA,EAC3E,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,2CACb,SAAA,CAAAA,EAAAA,KAAC,OAAI,UAAW,yCAAyCD,EAAY,+BAAiC,gCAAgC,qBACpI,SAAA,CAAAE,MAAC,OAAI,UAAW,WAAWF,EAAY,eAAiB,eAAe,8BAA+B,EACtGE,EAAAA,IAAC,OAAA,CAAK,UAAW,uBAAuBF,EAAY,iBAAmB,iBAAiB,GACrF,SAAAA,EAAY,0BAA4BD,CAAA,CAC3C,CAAA,EACF,SACCK,EAAA,CAAO,QAASN,EAAe,SAAUjC,EAAY,UAAU,oBAC9D,SAAA,CAAAqC,MAAC,KAAE,UAAW,wBAAwBrC,EAAa,eAAiB,EAAE,GAAI,EACzEA,EAAa,gBAAkB,SAAA,CAAA,CAClC,CAAA,CAAA,CACF,CAAA,EACF,EAECF,EACCuC,EAAAA,IAAC,MAAA,CAAI,UAAU,4DACZ,UAAC,EAAG,EAAG,EAAG,CAAC,EAAE,IAAKG,GACjBJ,EAAAA,KAAC,MAAA,CAAY,UAAU,+DACrB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,uCAAA,CAAwC,EACvDA,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAA,CAAoC,EACnDA,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAAA,CAA+B,CAAA,CAAA,EAHtCG,CAIV,CACD,CAAA,CACH,EAEAJ,EAAAA,KAAAK,EAAAA,SAAA,CAEE,SAAA,CAAAJ,EAAAA,IAAC,OAAI,UAAU,4DACZ,WAAa,IAAI,CAACK,EAAQC,IACzBP,EAAAA,KAAC,OAAgB,UAAU,oEAAoE,MAAO,CAAE,eAAgB,GAAGO,EAAQ,GAAG,MACpI,SAAA,CAAAP,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,qEACb,SAAAA,EAAAA,IAAC,IAAA,CAAE,UAAW,GAAGK,EAAO,IAAI,0BAAA,CAA4B,EAC1D,EACAL,EAAAA,IAAC,OAAA,CAAK,UAAU,iDAAA,CAAkD,CAAA,EACpE,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAA0C,WAAO,KAAK,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,kCAAmC,WAAO,KAAA,CAAM,CAAA,GARrDM,CASV,CACD,EACH,EAGAP,EAAAA,KAAC,MAAA,CAAI,UAAU,mEACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,2BACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,sBACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMzC,EAAa,UAAU,EACtC,UAAW,wEAAwED,IAAc,WAC3F,sCACA,sDACJ,GACH,SAAA,UAAA,CAAA,EAGDyC,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMxC,EAAa,QAAQ,EACpC,UAAW,wEAAwED,IAAc,SAC3F,sCACA,sDACJ,GACH,SAAA,CAAA,SAEEmB,EAAO,OAAS,GACfuB,EAAAA,IAAC,QAAK,UAAU,4EAA6E,WAAO,MAAA,CAAO,CAAA,CAAA,CAAA,EAG/GA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMzC,EAAa,aAAa,EACzC,UAAW,wEAAwED,IAAc,cAC3F,sCACA,sDACJ,GACH,SAAA,aAAA,CAAA,CAED,CAAA,CACF,CAAA,CACF,EAEAyC,EAAAA,KAAC,MAAA,CAAI,UAAU,MACZ,SAAA,CAAAzC,IAAc,YACbyC,OAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,eAAY,EACrEA,EAAAA,IAAC,OAAI,UAAU,uDACZ,WAAY,IAAI,CAACO,EAAQD,IACxBP,EAAAA,KAAC,OAAgB,UAAU,sEAAsE,MAAO,CAAE,eAAgB,GAAGO,EAAQ,EAAE,MACrI,SAAA,CAAAP,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,MAAC,IAAA,CAAE,UAAW,GAAGO,EAAO,IAAI,yBAA0B,EACrDA,EAAO,QACNP,EAAAA,IAAC,QAAK,UAAU,qCAAsC,WAAO,MAAA,CAAO,CAAA,EAExE,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,wCAAyC,WAAO,MAAM,EACnEA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,WAAO,KAAA,CAAM,CAAA,CAAA,EAR3CM,CASV,CACD,CAAA,CACH,CAAA,EACF,EAGC3B,EAAoB,OAAS,GAC5BoB,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,8BAA2B,QACnF,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,SACf,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,sCACf,SAAAD,EAAAA,KAAC,KAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,SAAM,EACtFA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,QAAK,EACrFA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,eAAY,EAC5FA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,SAAM,EACtFA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,QAAA,CAAM,CAAA,CAAA,CACxF,CAAA,CACF,EACAA,EAAAA,IAAC,SAAM,UAAU,2BACd,WAAoB,IAAI,CAACQ,EAAQF,IAChCP,EAAAA,KAAC,MAAe,UAAU,sCAAsC,MAAO,CAAE,eAAgB,GAAGO,EAAQ,EAAE,MACpG,SAAA,CAAAN,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAyD,SAAAQ,EAAO,OAAO,EACrFR,EAAAA,IAAC,KAAA,CAAG,UAAU,4CAA6C,WAAO,OAAO,EACzEA,EAAAA,IAAC,KAAA,CAAG,UAAU,4CAA6C,WAAO,QAAQ,EAC1EA,EAAAA,IAAC,KAAA,CAAG,UAAU,8BACZ,SAAAA,EAAAA,IAAC,QAAK,UAAU,6BAA8B,SAAAQ,EAAO,MAAA,CAAO,CAAA,CAC9D,QACC,KAAA,CAAG,UAAU,8BACZ,SAAAR,MAAC,QAAK,UAAW,8CAA8CQ,EAAO,SAAW,YAC3E,8BACA,2BACJ,GACC,SAAAA,EAAO,OACV,CAAA,CACF,CAAA,CAAA,EAdOF,CAeT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,EAGDhD,IAAc,UACb0C,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAAvB,EAAO,SAAW,EACjBsB,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,sDAAA,CAAuD,EACpEA,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,mBAAgB,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,qCAAA,CAAmC,CAAA,CAAA,CAClE,EAEAvB,EAAO,IAAI,CAACgC,EAAOH,IACjBN,EAAAA,IAAC,MAAA,CAEC,UAAW,uDAAuDS,EAAM,OAAS,QAAU,2BACvFA,EAAM,OAAS,UAAY,iCACzBA,EAAM,OAAS,UAAY,+BACzB,4BACN,GACF,MAAO,CAAE,eAAgB,GAAGH,EAAQ,GAAG,IAAA,EAEvC,SAAAP,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,MAAC,KAAE,UAAW,WAAWS,EAAM,OAAS,QAAU,qCAC9CA,EAAM,OAAS,UAAY,gCACzBA,EAAM,OAAS,UAAY,yCACzB,mCACN,GAAI,SACL,MAAA,CACC,SAAA,CAAAT,EAAAA,IAAC,KAAE,UAAW,eAAeS,EAAM,OAAS,QAAU,eAClDA,EAAM,OAAS,UAAY,kBACzBA,EAAM,OAAS,UAAY,iBACzB,eACN,GACC,WAAM,QACT,EACAT,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA8B,WAAM,IAAA,CAAK,CAAA,CAAA,CACxD,CAAA,EACF,EACAA,EAAAA,IAACE,GAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,oBAAoB,SAAA,SAAA,CAElE,CAAA,CAAA,CACF,CAAA,EA7BKO,EAAM,EAAA,CA+Bd,EAEL,EAGDnD,IAAc,eACb0C,EAAAA,IAAC,MAAA,CAAI,UAAU,YACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,OAAI,UAAU,sEAAsE,MAAO,CAAE,eAAgB,SAC5G,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,iBAAc,EAC/DD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,cAAW,EACnDA,MAAC,QAAK,UAAU,sCAAuC,YAAY,WAAW,eAAA,GAAoB,GAAA,CAAI,CAAA,EACxG,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,eAAY,EACpDA,MAAC,QAAK,UAAU,sCAAuC,YAAY,YAAY,eAAA,GAAoB,GAAA,CAAI,CAAA,EACzG,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,iBAAc,EACtDA,MAAC,QAAK,UAAU,uCAAwC,YAAY,aAAa,eAAA,GAAoB,GAAA,CAAI,CAAA,CAAA,CAC3G,CAAA,CAAA,CACF,CAAA,EACF,EAEAD,OAAC,OAAI,UAAU,sEAAsE,MAAO,CAAE,eAAgB,SAC5G,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,iBAAc,EAC/DD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,gBAAa,QACpD,OAAA,CAAK,UAAU,sCAAuC,SAAAnC,GAAY,cAAgB,CAAA,CAAE,CAAA,EACvF,EACAkC,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,uBAAoB,QAC3D,OAAA,CAAK,UAAU,sCAAuC,SAAAnC,GAAY,qBAAuB,CAAA,CAAE,CAAA,EAC9F,EACAkC,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,sBAAmB,QAC1D,OAAA,CAAK,UAAU,uCAAwC,SAAAnC,GAAY,mBAAqB,CAAA,CAAE,CAAA,CAAA,CAC7F,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,QAEC6C,EAAA,CAAA,CAAO,CAAA,EACV,CAEJ"}