{"version":3,"file":"productsService-Ck9jMMMB.js","sources":["../../src/lib/services/productsService.ts"],"sourcesContent":["// Products Service - API integration for products module\n\nimport api, { buildQuery } from '../api';\nimport type { Product } from '../types';\n\ninterface ProductFilters {\n    sellerId?: string;\n    category?: string;\n    search?: string;\n    minPrice?: number;\n    maxPrice?: number;\n    limit?: number;\n    offset?: number;\n    page?: number;\n    pageSize?: number;\n    sortBy?: 'price' | 'createdAt' | 'title';\n    sortOrder?: 'asc' | 'desc';\n}\n\ninterface PaginatedResponse<T> {\n    data: T[];\n    meta: {\n        total: number;\n        page: number;\n        pageSize: number;\n        totalPages: number;\n    };\n}\n\nexport const productsService = {\n    /**\n     * List all products with optional filters\n     * GET /products\n     */\n    list: async (filters?: ProductFilters): Promise<Product[]> => {\n        const query = filters ? buildQuery(filters as Record<string, string | number | boolean | undefined>) : '';\n        return api.get<Product[]>(`/products${query}`);\n    },\n\n    /**\n     * List products with pagination\n     * GET /products?page=1&pageSize=20\n     */\n    listPaginated: async (filters?: ProductFilters): Promise<PaginatedResponse<Product>> => {\n        const params = {\n            page: filters?.page || 1,\n            pageSize: filters?.pageSize || 20,\n            ...filters,\n        };\n        const query = buildQuery(params as Record<string, string | number | boolean | undefined>);\n        return api.get<PaginatedResponse<Product>>(`/products${query}`);\n    },\n\n    /**\n     * Get product by ID\n     * GET /products/:id\n     */\n    getById: async (id: string): Promise<Product> => {\n        return api.get<Product>(`/products/${id}`);\n    },\n\n    /**\n     * Get multiple products by IDs\n     * GET /products?ids=id1,id2,id3\n     */\n    getByIds: async (ids: string[]): Promise<Product[]> => {\n        return api.get<Product[]>(`/products?ids=${ids.join(',')}`);\n    },\n\n    /**\n     * Get products by seller\n     * GET /products?sellerId=...\n     */\n    getBySeller: async (sellerId: string): Promise<Product[]> => {\n        return api.get<Product[]>(`/products?sellerId=${sellerId}`);\n    },\n\n    /**\n     * Get products by category\n     * GET /products?category=...\n     */\n    getByCategory: async (category: string): Promise<Product[]> => {\n        return api.get<Product[]>(`/products?category=${category}`);\n    },\n\n    // Seller endpoints (require auth)\n\n    /**\n     * Create new product (seller)\n     * POST /products\n     */\n    create: async (data: {\n        sellerId: string;\n        title: string;\n        description: string;\n        price: number;\n        currency?: string;\n        imageUrl?: string;\n        category?: string;\n    }): Promise<Product> => {\n        return api.post<Product>('/products', data);\n    },\n\n    /**\n     * Update product (seller)\n     * PATCH /products/:id\n     */\n    update: async (id: string, data: Partial<{\n        title: string;\n        description: string;\n        price: number;\n        currency: string;\n        imageUrl: string;\n        category: string;\n    }>): Promise<Product> => {\n        return api.patch<Product>(`/products/${id}`, data);\n    },\n\n    /**\n     * Update inventory quantity (seller)\n     * PATCH /products/:id/inventory\n     */\n    updateInventory: async (id: string, quantity: number): Promise<Product> => {\n        return api.patch<Product>(`/products/${id}/inventory`, { quantity });\n    },\n};\n\nexport default productsService;\n"],"names":["productsService","filters","query","buildQuery","api","params","id","ids","sellerId","category","data","quantity"],"mappings":"+CA6BO,MAAMA,EAAkB,CAK3B,KAAM,MAAOC,GAAiD,CAC1D,MAAMC,EAAQD,EAAUE,EAAWF,CAAgE,EAAI,GACvG,OAAOG,EAAI,IAAe,YAAYF,CAAK,EAAE,CACjD,EAMA,cAAe,MAAOD,GAAkE,CACpF,MAAMI,EAAS,CACX,KAAMJ,GAAS,MAAQ,EACvB,SAAUA,GAAS,UAAY,GAC/B,GAAGA,CAAA,EAEDC,EAAQC,EAAWE,CAA+D,EACxF,OAAOD,EAAI,IAAgC,YAAYF,CAAK,EAAE,CAClE,EAMA,QAAS,MAAOI,GACLF,EAAI,IAAa,aAAaE,CAAE,EAAE,EAO7C,SAAU,MAAOC,GACNH,EAAI,IAAe,iBAAiBG,EAAI,KAAK,GAAG,CAAC,EAAE,EAO9D,YAAa,MAAOC,GACTJ,EAAI,IAAe,sBAAsBI,CAAQ,EAAE,EAO9D,cAAe,MAAOC,GACXL,EAAI,IAAe,sBAAsBK,CAAQ,EAAE,EAS9D,OAAQ,MAAOC,GASJN,EAAI,KAAc,YAAaM,CAAI,EAO9C,OAAQ,MAAOJ,EAAYI,IAQhBN,EAAI,MAAe,aAAaE,CAAE,GAAII,CAAI,EAOrD,gBAAiB,MAAOJ,EAAYK,IACzBP,EAAI,MAAe,aAAaE,CAAE,aAAc,CAAE,SAAAK,EAAU,CAE3E"}