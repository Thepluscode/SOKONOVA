{"version":3,"file":"analyticsService-DvsyHZaf.js","sources":["../../src/lib/services/analyticsService.ts"],"sourcesContent":["// Analytics Service - API integration for seller analytics module\n\nimport api from '../api';\n\ninterface ProfitabilityMetrics {\n    totalRevenue: number;\n    totalFees: number;\n    netEarnings: number;\n    avgOrderValue: number;\n    topProducts: Array<{\n        productId: string;\n        title: string;\n        revenue: number;\n        units: number;\n    }>;\n}\n\ninterface InventoryVelocity {\n    productId: string;\n    title: string;\n    currentStock: number;\n    soldLast30Days: number;\n    daysOfStock: number;\n    velocity: 'fast' | 'medium' | 'slow';\n}\n\ninterface BuyerCohort {\n    cohortMonth: string;\n    newBuyers: number;\n    repeatBuyers: number;\n    avgOrderValue: number;\n}\n\nexport const analyticsService = {\n    /**\n     * Get profitability metrics\n     * GET /analytics/seller/:sellerId/profitability\n     */\n    getProfitability: async (sellerId: string): Promise<ProfitabilityMetrics> => {\n        return api.get<ProfitabilityMetrics>(`/analytics/seller/${sellerId}/profitability`);\n    },\n\n    /**\n     * Get orders with fee breakdown\n     * GET /analytics/seller/:sellerId/orders\n     */\n    getOrdersWithFees: async (sellerId: string, limit: number = 50): Promise<unknown[]> => {\n        return api.get<unknown[]>(`/analytics/seller/${sellerId}/orders?limit=${limit}`);\n    },\n\n    /**\n     * Simulate pricing scenarios\n     * POST /analytics/seller/:sellerId/simulate-pricing\n     */\n    simulatePricing: async (\n        sellerId: string,\n        scenario: { feeChange?: number; bundleDiscount?: number; productId?: string }\n    ): Promise<unknown> => {\n        return api.post(`/analytics/seller/${sellerId}/simulate-pricing`, scenario);\n    },\n\n    /**\n     * Get inventory velocity metrics\n     * GET /analytics/seller/:sellerId/inventory-velocity\n     */\n    getInventoryVelocity: async (sellerId: string): Promise<InventoryVelocity[]> => {\n        return api.get<InventoryVelocity[]>(`/analytics/seller/${sellerId}/inventory-velocity`);\n    },\n\n    /**\n     * Get buyer cohorts\n     * GET /analytics/seller/:sellerId/buyer-cohorts\n     */\n    getBuyerCohorts: async (sellerId: string): Promise<BuyerCohort[]> => {\n        return api.get<BuyerCohort[]>(`/analytics/seller/${sellerId}/buyer-cohorts`);\n    },\n\n    /**\n     * Get buyer segments\n     * GET /analytics/seller/:sellerId/buyer-segments\n     */\n    getBuyerSegments: async (sellerId: string): Promise<unknown[]> => {\n        return api.get<unknown[]>(`/analytics/seller/${sellerId}/buyer-segments`);\n    },\n\n    /**\n     * Generate discount campaign for segment\n     * POST /analytics/seller/:sellerId/segments/:segmentId/discount-campaign\n     */\n    generateDiscountCampaign: async (\n        sellerId: string,\n        segmentId: string,\n        discountData: {\n            discountPercentage: number;\n            durationDays: number;\n            maxUses?: number;\n        }\n    ): Promise<unknown> => {\n        return api.post(`/analytics/seller/${sellerId}/segments/${segmentId}/discount-campaign`, discountData);\n    },\n\n    /**\n     * Get inventory risk analysis\n     * GET /analytics/seller/:sellerId/inventory-risk\n     */\n    getInventoryRiskAnalysis: async (sellerId: string): Promise<unknown> => {\n        return api.get(`/analytics/seller/${sellerId}/inventory-risk`);\n    },\n\n    /**\n     * Get aging inventory\n     * GET /analytics/seller/:sellerId/aging-inventory\n     */\n    getAgingInventory: async (sellerId: string): Promise<unknown[]> => {\n        return api.get<unknown[]>(`/analytics/seller/${sellerId}/aging-inventory`);\n    },\n\n    /**\n     * Get stockout predictions\n     * GET /analytics/seller/:sellerId/stockout-predictions\n     */\n    getStockoutPredictions: async (sellerId: string): Promise<unknown[]> => {\n        return api.get<unknown[]>(`/analytics/seller/${sellerId}/stockout-predictions`);\n    },\n\n    /**\n     * Generate inventory recommendations\n     * POST /analytics/seller/:sellerId/inventory-recommendations\n     */\n    generateInventoryRecommendations: async (\n        sellerId: string,\n        productId?: string\n    ): Promise<unknown> => {\n        return api.post(`/analytics/seller/${sellerId}/inventory-recommendations`, { productId });\n    },\n};\n\nexport default analyticsService;\n"],"names":["analyticsService","sellerId","api","limit","scenario","segmentId","discountData","productId"],"mappings":"wCAiCO,MAAMA,EAAmB,CAK5B,iBAAkB,MAAOC,GACdC,EAAI,IAA0B,qBAAqBD,CAAQ,gBAAgB,EAOtF,kBAAmB,MAAOA,EAAkBE,EAAgB,KACjDD,EAAI,IAAe,qBAAqBD,CAAQ,iBAAiBE,CAAK,EAAE,EAOnF,gBAAiB,MACbF,EACAG,IAEOF,EAAI,KAAK,qBAAqBD,CAAQ,oBAAqBG,CAAQ,EAO9E,qBAAsB,MAAOH,GAClBC,EAAI,IAAyB,qBAAqBD,CAAQ,qBAAqB,EAO1F,gBAAiB,MAAOA,GACbC,EAAI,IAAmB,qBAAqBD,CAAQ,gBAAgB,EAO/E,iBAAkB,MAAOA,GACdC,EAAI,IAAe,qBAAqBD,CAAQ,iBAAiB,EAO5E,yBAA0B,MACtBA,EACAI,EACAC,IAMOJ,EAAI,KAAK,qBAAqBD,CAAQ,aAAaI,CAAS,qBAAsBC,CAAY,EAOzG,yBAA0B,MAAOL,GACtBC,EAAI,IAAI,qBAAqBD,CAAQ,iBAAiB,EAOjE,kBAAmB,MAAOA,GACfC,EAAI,IAAe,qBAAqBD,CAAQ,kBAAkB,EAO7E,uBAAwB,MAAOA,GACpBC,EAAI,IAAe,qBAAqBD,CAAQ,uBAAuB,EAOlF,iCAAkC,MAC9BA,EACAM,IAEOL,EAAI,KAAK,qBAAqBD,CAAQ,6BAA8B,CAAE,UAAAM,EAAW,CAEhG"}