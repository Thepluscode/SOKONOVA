# ==================================================
# SokoNova Backend - PRODUCTION Environment Variables
# ==================================================
#
# SECURITY WARNING:
# - Never commit this file with real values
# - Copy to .env in production and fill with real credentials
# - Rotate secrets periodically (quarterly recommended)
#
# ==================================================

# ==================================================
# DATABASE (REQUIRED)
# ==================================================
DATABASE_URL="postgresql://user:password@host.example.com:5432/sokonova_production"

# ==================================================
# SERVER (REQUIRED)
# ==================================================
PORT=4000
NODE_ENV=production

# ==================================================
# SECURITY (REQUIRED)
# ==================================================

# JWT Secret - Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# MUST be at least 32 characters, preferably 64+
JWT_SECRET=your_production_jwt_secret_min_64_characters_long_replace_this

# ==================================================
# CORS & FRONTEND (REQUIRED)
# ==================================================

# Comma-separated list of allowed origins (no spaces around commas)
# Example: https://sokonova.com,https://www.sokonova.com,https://app.sokonova.com
CORS_ORIGINS=https://your-frontend-domain.com,https://www.your-domain.com

# Frontend URL for email links and OAuth redirects
FRONTEND_URL=https://your-frontend-domain.com
FRONTEND_BASE_URL=https://your-frontend-domain.com

# ==================================================
# PAYMENT PROVIDERS (REQUIRED FOR PRODUCTION)
# ==================================================

# Stripe - Get live keys from: https://dashboard.stripe.com/apikeys
# WARNING: Use sk_live_... NOT sk_test_... in production!
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLIC_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx

# Paystack (Optional - for African markets)
# Get keys from: https://dashboard.paystack.com/#/settings/developer
PAYSTACK_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx
PAYSTACK_PUBLIC_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx

# Flutterwave (Optional - for African markets)
# Get keys from: https://dashboard.flutterwave.com/settings/apis
FLUTTERWAVE_SECRET_KEY=FLWSECK-xxxxxxxxxxxxxxxxxxxxx
FLUTTERWAVE_PUBLIC_KEY=FLWPUBK-xxxxxxxxxxxxxxxxxxxxx

# ==================================================
# MONITORING & ERROR TRACKING (REQUIRED)
# ==================================================

# Sentry - Get DSN from: https://sentry.io/settings/
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxx

# ==================================================
# EMAIL NOTIFICATIONS (REQUIRED)
# ==================================================

# SendGrid - Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=notifications@yourdomain.com

# ==================================================
# SMS NOTIFICATIONS (OPTIONAL)
# ==================================================

# Africa's Talking (Recommended for African markets)
# Get credentials from: https://account.africastalking.com/apps
AFRICASTALKING_API_KEY=your_api_key
AFRICASTALKING_USERNAME=your_username
AFRICASTALKING_SHORT_CODE=YourBrand

# Twilio (Alternative - Global)
# Get credentials from: https://www.twilio.com/console
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ==================================================
# FILE STORAGE (REQUIRED FOR UPLOADS)
# ==================================================

# AWS S3 or Compatible (Cloudflare R2, DigitalOcean Spaces)
# Cloudflare R2: https://dash.cloudflare.com/r2
S3_ENDPOINT=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.r2.cloudflarestorage.com
S3_ACCESS_KEY_ID=your_access_key_id
S3_SECRET_ACCESS_KEY=your_secret_access_key
S3_BUCKET_NAME=sokonova-uploads-production
S3_PUBLIC_URL=https://pub-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.r2.dev
S3_REGION=auto

# ==================================================
# REDIS (OPTIONAL - Recommended for scaling)
# ==================================================

# Redis URL for session storage and Socket.IO adapter
# Format: redis://username:password@host:port
# REDIS_URL=redis://default:password@redis.example.com:6379

# ==================================================
# RATE LIMITING (OPTIONAL - Uses defaults if not set)
# ==================================================

# Rate limit configuration (already set in code, but can override)
# RATE_LIMIT_TTL=60
# RATE_LIMIT_MAX=100

# ==================================================
# OAUTH PROVIDERS (OPTIONAL)
# ==================================================

# Google OAuth
# Get credentials from: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# GOOGLE_CALLBACK_URL=https://your-backend-domain.com/auth/google/callback

# Facebook OAuth
# Get credentials from: https://developers.facebook.com/apps
# FACEBOOK_APP_ID=xxxxxxxxxxxxxxxxx
# FACEBOOK_APP_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# FACEBOOK_CALLBACK_URL=https://your-backend-domain.com/auth/facebook/callback

# ==================================================
# ADDITIONAL SERVICES (OPTIONAL)
# ==================================================

# Web Push Notifications (if implementing PWA)
# Generate VAPID keys with: npx web-push generate-vapid-keys
# WEB_PUSH_PUBLIC_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# WEB_PUSH_PRIVATE_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# WEB_PUSH_CONTACT=mailto:support@yourdomain.com

# ==================================================
# CHECKLIST BEFORE GOING LIVE
# ==================================================
#
# [ ] DATABASE_URL points to production PostgreSQL database
# [ ] JWT_SECRET is strong (64+ characters) and unique
# [ ] CORS_ORIGINS includes all production frontend domains
# [ ] STRIPE_SECRET_KEY uses sk_live_... (NOT test key!)
# [ ] SENTRY_DSN is configured for error tracking
# [ ] SENDGRID_API_KEY is valid and sending emails
# [ ] S3/R2 storage configured and public URLs working
# [ ] All secrets rotated from development values
# [ ] Environment variables set in Railway/Render dashboard
# [ ] Health check endpoint responding: /health
# [ ] Rate limiting tested and working
# [ ] Database migrations deployed: npx prisma migrate deploy
# [ ] Performance indexes created: see prisma/migrations/add_performance_indexes.sql
#
# ==================================================
